# ğŸ¥— Javaå¹¶å‘ å¤šçº¿ç¨‹åŸºç¡€

---

## 1.ä»»åŠ¡

â€ƒâ€ƒç”Ÿæ´»ä¸­çš„ä¾‹å­ã€è¾¹åƒé¥­ã€è¾¹ç©æ‰‹æœº

![](https://img-blog.csdnimg.cn/e25453f8bf4d4475898be82b4613a955.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)



â€ƒâ€ƒå¼€è½¦ã€æ‰“ç”µè¯ã€æŒ‚ç‚¹æ»´

![](https://img-blog.csdnimg.cn/07b0dfac109a44b0b910ee30165c9d3c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

â€ƒâ€ƒä¸Šå•æ‰€ã€ç©æ‰‹æœº

![](https://img-blog.csdnimg.cn/e9c22693b74e42acb2123f5566df3dd8.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

â€ƒâ€ƒç°å®ä¸­å¤ªå¤šè¿™æ ·åŒæ—¶åšå¤šä»¶äº‹æƒ…çš„ä¾‹å­äº†ï¼Œçœ‹èµ·æ¥æ˜¯å¤šä¸ªä»»åŠ¡éƒ½åœ¨åšï¼Œå…¶å®æœ¬è´¨ä¸Šæˆ‘ä»¬çš„å¤§è„‘åœ¨åŒä¸€æ—¶é—´ä¾æ—§åªåšäº†ä¸€ä»¶äº‹æƒ…ã€‚

![](https://img-blog.csdnimg.cn/712a20b422df4dbaa66746e1cca2568f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

## 2.è¿›ç¨‹
â€ƒâ€ƒåœ¨æ“ä½œç³»ç»Ÿä¸­è¿è¡Œçš„ç¨‹åºå°±æ˜¯è¿›ç¨‹ï¼Œæ¯”å¦‚ä½ çš„QQã€æ’­æ”¾å™¨ã€æ¸¸æˆã€IDEç­‰ç­‰ã€‚ã€‚ã€‚

![](https://img-blog.csdnimg.cn/a775677efe834afab5d6c60e8a5d12e1.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

â€ƒ

ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå¦‚è§†é¢‘ä¸­åŒæ—¶å¬å£°éŸ³ï¼Œçœ‹å›¾åƒï¼Œçœ‹å¼¹å¹•ï¼Œç­‰ç­‰

â€ƒâ€ƒ1.è¯´èµ·è¿›ç¨‹ï¼Œå°±ä¸å¾—ä¸è¯´ä¸‹ç¨‹åºã€‚ç¨‹åºæ˜¯**æŒ‡ä»¤å’Œæ•°æ®çš„æœ‰åºé›†åˆ**ï¼Œå…¶æœ¬èº«æ²¡æœ‰ä»»ä½•è¿è¡Œçš„å«ä¹‰ï¼Œæ˜¯ä¸€ä¸ªé™æ€çš„æ¦‚å¿µã€‚

â€ƒâ€ƒ2.è€Œè¿›ç¨‹æ˜¯æ‰§è¡Œç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œå®ƒæ˜¯åŠ¨æ€çš„æ¦‚å¿µã€‚æ˜¯ç³»ç»Ÿèµ„æºåˆ†é…çš„å•ä½

â€ƒâ€ƒ3.é€šå¸¸åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥åŒ…å«è‹¥å¹²ä¸ªçº¿ç¨‹ï¼Œå½“ç„¶ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¸ç„¶æ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰ã€‚**çº¿ç¨‹æ˜¯CPUè°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½**ã€‚

æ³¨æ„ï¼šå¾ˆå¤š å¤šçº¿ç¨‹æ˜¯æ¨¡æ‹Ÿå‡ºæ¥çš„ï¼ŒçœŸæ­£çš„å¤šçº¿ç¨‹æ˜¯æŒ‡æœ‰å¤šä¸ªCPUï¼Œå³å¤šæ ¸ï¼Œå¦‚æœåŠ¡å™¨ã€‚å¦‚æœæ˜¯æ¨¡æ‹Ÿå‡ºæ¥çš„å¤šçº¿ç¨‹ï¼Œå³åœ¨ä¸€ä¸ªCPUçš„æƒ…å†µä¸‹ï¼Œåœ¨åŒä¸€æ—¶é—´ç‚¹ï¼Œcpu åªèƒ½æ‰§è¡Œä¸€ä¸ªä»£ç ï¼Œå› ä¸ºåˆ‡æ¢çš„å¾ˆå¿«ï¼Œæ‰€ä»¥æœ‰åŒæ—¶æ‰§è¡Œçš„é”™è§‰ã€‚

æ€»ç»“ï¼š

â€ƒâ€ƒ1.**çº¿ç¨‹å°±æ˜¯ç‹¬ç«‹çš„æ‰§è¡Œè·¯å¾„**;

â€ƒâ€ƒ2.åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œå³ä½¿æ²¡æœ‰è‡ªå·±åˆ›å»ºçº¿ç¨‹ï¼Œåå°ä¹Ÿä¼šæœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå¦‚**ä¸»çº¿ç¨‹ï¼Œgcçº¿ç¨‹**;

â€ƒâ€ƒ3.**main()ç§°ä¹‹ä¸ºä¸»çº¿ç¨‹**ï¼Œä¸ºç³»ç»Ÿçš„å…¥å£ï¼Œç”¨äºæ‰§è¡Œæ•´ä¸ªç¨‹åº;

â€ƒâ€ƒ4.åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œå¦‚æœå¼€è¾Ÿäº†å¤šä¸ªçº¿ç¨‹ï¼Œ**çº¿ç¨‹çš„è¿è¡Œç”±è°ƒåº¦å™¨ï¼ˆCPUï¼‰å®‰æ’è°ƒåº¦**ï¼Œè°ƒåº¦å™¨æ˜¯ä¸æ“ä½œç³»ç»Ÿç´§å¯†ç›¸å…³çš„ï¼Œå…ˆåé¡ºåºæ˜¯ä¸èƒ½äººä¸ºçš„å¹²é¢„çš„ã€‚

â€ƒâ€ƒ5.å¯¹åŒä¸€ä»½èµ„æºæ“ä½œæ—¶ï¼Œä¼šå­˜åœ¨èµ„æºæŠ¢å¤ºçš„é—®é¢˜ï¼Œéœ€è¦åŠ å…¥**å¹¶å‘æ§åˆ¶**ã€‚

â€ƒâ€ƒ6.çº¿ç¨‹ä¼šå¸¦æ¥é¢å¤–çš„å¼€é”€ï¼Œå¦‚**cpuè°ƒåº¦æ—¶é—´**ï¼Œå¹¶å‘æ§åˆ¶å¼€é”€ã€‚

â€ƒâ€ƒ7.æ¯ä¸ªçº¿ç¨‹åœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜äº¤äº’ï¼Œå†…å­˜æ§åˆ¶ä¸å½“ä¼šé€ æˆæ•°æ®ä¸ä¸€è‡´;

## 3.å¤šçº¿ç¨‹

â€ƒâ€ƒåŸæ¥æ˜¯ä¸€æ¡è·¯ï¼Œæ…¢æ…¢å› ä¸ºè½¦å¤ªå¤šäº†ï¼Œé“è·¯å µå¡ï¼Œæ•ˆç‡æä½ã€‚
â€ƒâ€ƒä¸ºäº†æé«˜ä½¿ç”¨çš„é¢‘ç‡ï¼Œèƒ½å¤Ÿå……åˆ†åˆ©ç”¨é“è·¯ï¼Œäºæ˜¯åŠ äº†å¤šä¸ªè½¦é“ã€‚

![](https://img-blog.csdnimg.cn/ebd2ab5246fb4aaaa9ee0caaeada7bd1.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

åŸæ¥çš„æ–¹æ³•è°ƒç”¨

![](https://img-blog.csdnimg.cn/89ff4bd5df5a4bea8b7282888a1895d4.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)



å¤šçº¿ç¨‹ä¸‹çš„æ–¹æ³•è°ƒç”¨

![](https://img-blog.csdnimg.cn/bceeca5dd11340868b764545dcffef56.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)



**çº¿ç¨‹å®ç°ä¸‰ç§æ–¹å¼**

â€ƒâ€ƒ 1.ç»§æ‰¿Threadç±»

â€ƒ â€ƒ2.å®ç°Runnable æ¥å£

â€ƒâ€ƒ 3.å®ç°Callable æ¥å£

**ç»§æ‰¿Threadç±»å®ç°å¤šçº¿ç¨‹æ­¥éª¤å¦‚ä¸‹ï¼š**
  1. è‡ªå®šä¹‰çº¿ç¨‹ç±»ç»§æ‰¿Threadç±»

     

  2. é‡å†™run() æ–¹æ³•ï¼Œç¼–å†™çº¿ç¨‹æ‰§è¡Œä½“

     

  3. åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œè°ƒç”¨start() æ–¹æ³•å¯åŠ¨çº¿ç¨‹



**åˆ›å»ºçº¿ç¨‹æ–¹å¼1**ï¼šç»§æ‰¿Threadï¼ˆé€šè¿‡æŸ¥çœ‹æºç å‘ç°Thread æ˜¯å®ç°Runnableæ¥å£çš„ï¼‰

æ³¨æ„ï¼šçº¿ç¨‹å¼€å¯ä¸ä¸€å®šç«‹å³æ‰§è¡Œï¼Œç”±CPUè°ƒåº¦å®‰æ’ã€‚

```java
public class TestThread1 extends Thread{

    @Override
    public void run() {
        //runæ–¹æ³• çº¿ç¨‹ä½“
        for (int i = 0; i < 10; i++) {
            System.out.println("æˆ‘åœ¨çœ‹ä»£ç --"+i);
        }
    }

    public static void main(String[] args) {
        //åˆ›å»ºçº¿ç¨‹å¯¹è±¡
        TestThread1 testThread1 = new TestThread1();
        //è°ƒç”¨start()æ–¹æ³• ï¼Œå¼€å¯çº¿ç¨‹
        testThread1.start();

        //mainçº¿ç¨‹ï¼Œä¸»çº¿ç¨‹
        for (int i = 0; i < 10; i++) {
            System.out.println("æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--"+i);
        }

    }
}

//æ‰§è¡Œç»“æœ
æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--0
æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--1
æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--2
æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--3
æˆ‘åœ¨çœ‹ä»£ç --0
æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--4
æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--5
æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--6
æˆ‘åœ¨çœ‹ä»£ç --1
æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--7
æˆ‘åœ¨çœ‹ä»£ç --2
æˆ‘åœ¨çœ‹ä»£ç --3
æˆ‘åœ¨çœ‹ä»£ç --4
æˆ‘åœ¨çœ‹ä»£ç --5
æˆ‘åœ¨çœ‹ä»£ç --6
æˆ‘åœ¨çœ‹ä»£ç --7
æˆ‘åœ¨çœ‹ä»£ç --8
æˆ‘åœ¨çœ‹ä»£ç --9
æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--8
æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--9
```
æ¡ˆä¾‹ï¼šå®ç°å¤šçº¿ç¨‹åŒæ­¥ä¸‹è½½å›¾ç‰‡
```java
public class TestThread2 extends Thread {

    /**
     * ç½‘ç»œå›¾ç‰‡åœ°å€
     */
    private String url;

    /**
     * ä¿å­˜çš„æ–‡ä»¶å
     */
    private String name;

    public TestThread2(String url, String name) {
        this.name = name;
        this.url = url;
    }

    @Override
    public void run() {
        WebDownloader webDownloader = new WebDownloader();
        webDownloader.downLoader(url, name);
        System.out.println("ä¸‹è½½äº†æ–‡ä»¶åä¸ºï¼š" + name);
    }


    //ä¸‹è½½å™¨
    class WebDownloader {
        public void downLoader(String url, String name) {
            try {
                FileUtils.copyURLToFile(new URL(url), new File(name));
            } catch (IOException e) {
                e.printStackTrace();
                System.out.println("IO å¼‚å¸¸ï¼ŒDownloaderæ–¹æ³•å‡ºç°é—®é¢˜");
            }
        }
    }

    public static void main(String[] args) {
        TestThread2 thread1 = new TestThread2("https://img-blog.csdnimg.cn/ebd2ab5246fb4aaaa9ee0caaeada7bd1.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center", "1.jpg");
        TestThread2 thread2 = new TestThread2("https://img-blog.csdnimg.cn/8dbd178f0ae04e169b20fff6d3d20786.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center", "2.jpg");
        TestThread2 thread3 = new TestThread2("https://img-blog.csdnimg.cn/712a20b422df4dbaa66746e1cca2568f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center", "3.jpg");
        //å…ˆä¸‹è½½t1
        thread1.start();
        //å…ˆä¸‹è½½t2
        thread2.start();
        //å…ˆä¸‹è½½t3
        thread3.start();
    }

}

//æ‰§è¡Œç»“æœ
ä¸‹è½½äº†æ–‡ä»¶åä¸ºï¼š2.jpg
ä¸‹è½½äº†æ–‡ä»¶åä¸ºï¼š3.jpg
ä¸‹è½½äº†æ–‡ä»¶åä¸ºï¼š1.jpg
```

**åˆ›å»ºçº¿ç¨‹æ–¹å¼2ï¼šå®ç°Runnableæ¥å£**
```java
/**
 * @Description TestThread3
 * @Author vchicken
 * @Date 2022/8/29 20:45
 */
public class TestThread3 implements Runnable {

    @Override
    public void run() {
        //runæ–¹æ³• çº¿ç¨‹ä½“
        for (int i = 0; i < 10; i++) {
            System.out.println("æˆ‘åœ¨çœ‹ä»£ç --"+i);
        }
    }

    public static void main(String[] args) {
        //åˆ›å»ºrunnableæ¥å£çš„å®ç°ç±»å¯¹è±¡
        TestThread3 testThread3 = new TestThread3();
        //åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œé€šè¿‡çº¿ç¨‹å¯¹è±¡æ¥å¼€å¯æˆ‘ä»¬çš„çº¿ç¨‹
        Thread thread = new Thread(testThread3);
        thread.start();

        //mainçº¿ç¨‹ï¼Œä¸»çº¿ç¨‹
        for (int i = 0; i < 10; i++) {
            System.out.println("æˆ‘åœ¨å­¦ä¹ å¤šçº¿ç¨‹--"+i);
        }

    }
}
```

**Thread å’ŒRunnableå°ç»“**
- ç»§æ‰¿Threadç±»

    

    1. å­ç±»ç»§æ‰¿Thread ç±»å…·æœ‰å¤šçº¿ç¨‹èƒ½åŠ›
    2. å¯åŠ¨çº¿ç¨‹ï¼šå­ç±»å¯¹è±¡.start()
    3. ä¸å»ºè®®ä½¿ç”¨ï¼šé¿å…OOPå•ç»§æ‰¿å±€é™æ€§

    

- å®ç°Runnable æ¥å£



â€ƒâ€ƒ1.  å®ç°æ¥å£Runnable å…·æœ‰å¤šçº¿ç¨‹èƒ½åŠ›
â€ƒâ€ƒ2. å¯åŠ¨çº¿ç¨‹ï¼šä¼ å…¥ç›®æ ‡å¯¹è±¡+Threadå¯¹è±¡.startï¼ˆï¼‰
â€ƒâ€ƒ3. æ¨èä½¿ç”¨ï¼šé¿å…å•ç»§æ‰¿å±€é™æ€§ï¼Œçµæ´»æ–¹ä¾¿ï¼Œæ–¹ä¾¿åŒä¸€ä¸ªå¯¹è±¡è¢«å¤šä¸ªçº¿ç¨‹ä½¿ç”¨



**å®ç°æ¥å£ VS ç»§æ‰¿**
Thread å®ç°æ¥å£ä¼šæ›´å¥½ä¸€äº›ï¼Œå› ä¸º: 

- Java ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œå› æ­¤ç»§æ‰¿äº† Thread ç±»å°±æ— æ³•ç»§æ‰¿å…¶å®ƒç±»ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼› 
- ç±»å¯èƒ½åªè¦æ±‚å¯æ‰§è¡Œå°±è¡Œï¼Œç»§æ‰¿æ•´ä¸ª Thread ç±»å¼€é”€è¿‡å¤§ã€‚

**æ¡ˆä¾‹ï¼šé¾Ÿå…”èµ›è·‘**

â€‹	   1.é¦–å…ˆæ¥ä¸ªèµ›é“è·ç¦»ï¼Œç„¶åè¦ç¦»ç»ˆç‚¹è¶Šæ¥è¶Šè¿‘

â€ƒâ€ƒ2.åˆ¤æ–­æ¯”èµ›æ˜¯å¦ç»“æŸ

â€ƒâ€ƒ3.æ‰“å°å‡ºèƒœåˆ©è€…

â€ƒâ€ƒ4.é¾Ÿå…”èµ›è·‘å¼€å§‹

â€ƒâ€ƒ5.æ•…äº‹ä¸­æ˜¯ä¹Œé¾Ÿèµ¢äº†ï¼Œå…”å­éœ€è¦ç¡è§‰ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¨¡æ‹Ÿå…”å­ç¡è§‰

â€ƒâ€ƒ6.ç»ˆäºï¼Œä¹Œé¾Ÿèµ¢äº†

```java
public class Race implements Runnable {

    /**
     * èƒœåˆ©è€…
     */
    private static String winner;

    @Override
    public void run() {
        for (int i = 1; i <= 100; i++) {
            //æ¨¡æ‹Ÿå…”å­ä¼‘æ¯
            if (Thread.currentThread().getName().equals("å…”å­") || i % 10 == 0) {
                try {
                    Thread.sleep(10);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }

            //åˆ¤æ–­æ¯”èµ›æ˜¯å¦ç»“æŸ
            boolean flag = gameOver(i);
            //å¦‚æœæ¯”èµ›ç»“æŸäº†ï¼Œå°±åœæ­¢ç¨‹åº
            if (flag) {
                break;
            }

            System.out.println(Thread.currentThread().getName() + "-->è·‘äº†" + i + "æ­¥");
        }
    }

    //åˆ¤æ–­æ˜¯å¦å®Œæˆæ¯”èµ›
    private boolean gameOver(int steps) {
        if (winner != null) {//å·²ç»ç”±èƒœåˆ©è€…äº†
            return true;
        } else {
            if (steps >= 100) {
                winner = Thread.currentThread().getName();
                System.out.println("Winner is " + winner);
                return true;
            }

        }
        return false;
    }

    public static void main(String[] args) {

        Race race = new Race();
        new Thread(race, "ä¹Œé¾Ÿ").start();
        new Thread(race, "å…”å­").start();
    }
}
```

**åˆ›å»ºçº¿ç¨‹æ–¹å¼3ï¼šå®ç°Callable æ¥å£**

â€ƒâ€ƒ1.å®ç°Callableæ¥å£ï¼Œéœ€è¦è¿”å›å€¼ç±»å‹

â€ƒâ€ƒ2.é‡å†™call æ–¹æ³•ï¼Œéœ€è¦æŠ›å‡ºå¼‚å¸¸

â€ƒâ€ƒ3.åˆ›å»ºç›®æ ‡å¯¹è±¡

â€ƒâ€ƒ4.åˆ›å»ºæ‰§è¡ŒæœåŠ¡ï¼š

â€ƒâ€ƒ5.æäº¤æ‰§è¡Œï¼š

â€ƒâ€ƒ6.è·å–ç»“æœï¼š

â€ƒâ€ƒ7.å…³é—­æœåŠ¡ï¼š

```java
/**
 * @Description TestCallable
 * @Author vchicken
 * @Date 2022/8/29 21:25
 */
public class TestCallable implements Callable<Boolean> {

    /**
     * ç½‘ç»œå›¾ç‰‡åœ°å€
     */
    private String url;

    /**
     * ä¿å­˜çš„æ–‡ä»¶å
     */
    private String name;

    public TestCallable(String url, String name) {
        this.name = name;
        this.url = url;
    }

    //ä¸‹è½½å›¾ç‰‡çº¿ç¨‹çš„æ‰§è¡Œä½“
    @Override
    public Boolean call() throws Exception {
        WebDownloader webDownloader = new WebDownloader();
        webDownloader.downLoader(url, name);
        System.out.println("ä¸‹è½½äº†æ–‡ä»¶åä¸ºï¼š" + name);
        return true;
    }

    public static void main(String[] args) throws ExecutionException, InterruptedException {

        TestCallable thread1 = new TestCallable("https://img-blog.csdnimg.cn/ebd2ab5246fb4aaaa9ee0caaeada7bd1.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center", "1.jpg");
        TestCallable thread2 = new TestCallable("https://img-blog.csdnimg.cn/8dbd178f0ae04e169b20fff6d3d20786.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center", "2.jpg");
        TestCallable thread3 = new TestCallable("https://img-blog.csdnimg.cn/712a20b422df4dbaa66746e1cca2568f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center", "3.jpg");

        //1.åˆ›å»ºæ‰§è¡ŒæœåŠ¡
        ExecutorService ser = Executors.newFixedThreadPool(3);
        //2.æäº¤æ‰§è¡Œ
        Future<Boolean> r1 = ser.submit(thread1);
        Future<Boolean> r2 = ser.submit(thread2);
        Future<Boolean> r3 = ser.submit(thread3);
        //è·å–ç»“æœ
        Boolean rs1 = r1.get();
        Boolean rs2 = r2.get();
        Boolean rs3 = r3.get();

        //å…³é—­æœåŠ¡
        ser.shutdownNow();

    }
}

class WebDownloader {
    public void downLoader(String url, String name) {
        try {
            FileUtils.copyURLToFile(new URL(url), new File(name));
        } catch (IOException e) {
            e.printStackTrace();
            System.out.println("IO å¼‚å¸¸ï¼ŒDownloaderæ–¹æ³•å‡ºç°é—®é¢˜");
        }
    }
}
```
**ä¼˜ç‚¹ï¼š**
1. å¯ä»¥å®šä¹‰è¿”å›å€¼
2. å¯ä»¥æŠ›å‡ºå¼‚å¸¸

## 4.é™æ€ä»£ç†
![](https://img-blog.csdnimg.cn/309b623abeee47c19011672635c13357.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

**é™æ€ä»£ç†æ€»ç»“ï¼š**
  1. çœŸå®å¯¹è±¡å’Œä»£ç†å¯¹è±¡éƒ½è¦å®ç°åŒä¸€ä¸ªæ¥å£

     

  2. ä»£ç†å¯¹è±¡è¦ä»£ç†çœŸå®è§’è‰²

**å¥½å¤„ï¼š**



- ä»£ç†å¯¹è±¡å¯ä»¥åšå¾ˆå¤šå¯¹è±¡åšä¸äº†çš„äº‹æƒ…

- çœŸå®å¯¹è±¡ä¸“æ³¨åšè‡ªå·±çš„äº‹æƒ…

```java
/**
 * @Description StaticProxy
 * @Author vchicken
 * @Date 2022/8/30 19:16
 */
public class StaticProxy {

    public static void main(String[] args) {
        //ä½ è¦ç»“å©š
        You you = new You();

        new Thread(() -> System.out.println("å“Ÿè¥¿")).start();

        new WeddingCompany(new You()).HappyMarry();
    }
}

interface Marry {
    void HappyMarry();
}

//çœŸå®è§’è‰²ï¼Œä½ å»ç»“å©š
class You implements Marry {

    @Override
    public void HappyMarry() {

        System.out.println("xxè¦ç»“å©šäº†");
    }
}

//ä»£ç†è§’è‰²ï¼Œå¸®åŠ©ä½ ç»“å©š
class WeddingCompany implements Marry {
    //ä»£ç†è°--> çœŸå®ç›®æ ‡è§’è‰²
    private Marry target;

    public WeddingCompany(Marry target) {
        this.target = target;
    }

    @Override
    public void HappyMarry() {
        before();
        //è¿™å°±æ˜¯çœŸå®å¯¹è±¡
        this.target.HappyMarry();
        after();
    }

    private void after() {
        System.out.println("ç»“å©šä¹‹åï¼Œæ”¶å°¾æ¬¾");
    }

    private void before() {
        System.out.println("ç»“å©šä¹‹å‰ï¼Œå¸ƒç½®ç°åœº");
    }

}
```

## 5.Lambdaè¡¨è¾¾å¼
`å…¥`å¸Œè…Šå­—æ¯è¡¨ä¸­æ’åºç¬¬åä¸€ä½çš„å­—æ¯ï¼Œè‹±è¯­åç§°ä¸ºLambda

é¿å…å†…éƒ¨ç±»å®šä¹‰è¿‡å¤šï¼Œå…¶å®è´¨å±äºå‡½æ•°å¼ç¼–ç¨‹æ¦‚å¿µ

```java
ï¼ˆparamsï¼‰ -> expression  [è¡¨è¾¾å¼]
ï¼ˆparamsï¼‰ -> statement [è¯­å¥]
ï¼ˆparamsï¼‰ -> {statement }
```
**ä¸ºä»€ä¹ˆè¦ä½¿ç”¨lambda è¡¨è¾¾å¼**

â€ƒâ€ƒ1.é¿å…åŒ¿åå†…éƒ¨ç±»å®šä¹‰è¿‡å¤š

â€ƒâ€ƒ2.å¯ä»¥è®©ä½ çš„ä»£ç çœ‹èµ·æ¥å¾ˆç®€æ´

â€ƒâ€ƒ3.å»æ‰äº†ä¸€å †æ²¡æœ‰æ„ä¹‰çš„ä»£ç ï¼Œåªç•™ä¸‹æ ¸å¿ƒçš„é€»è¾‘

**å‡½æ•°å¼æ¥å£çš„å®šä¹‰**

â€ƒâ€ƒ1.ä»»ä½•æ¥å£ï¼Œå¦‚æœåªåŒ…å«**å”¯ä¸€ä¸€ä¸ªæŠ½è±¡æ–¹æ³•**ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ª`å‡½æ•°å¼æ¥å£`ã€‚

â€ƒâ€ƒ2.å¯¹äºå‡½æ•°å¼æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡lambda è¡¨è¾¾å¼æ¥åˆ›å»ºè¯¥æ¥å£çš„å¯¹è±¡ã€‚

```java
public interface Runnable{
    public abstract void run();
}
```
**æ¡ˆä¾‹1ï¼š**
```java
/**
 * @Description Testlambda
 * @Author vchicken
 * @Date 2022/8/30 19:31
 */
public class TestLambda {

    //3.é™æ€å†…éƒ¨ç±»
    static class Like2 implements ILike {
        @Override
        public void lambda() {
            System.out.println(" I like lambda2");
        }
    }

    public static void main(String[] args) {
        ILike like = new Like();
        like.lambda();

        like = new Like2();
        like.lambda();

        //4.å±€éƒ¨å†…éƒ¨ç±»
        class Like3 implements ILike {
            @Override
            public void lambda() {
                System.out.println(" I like lambda3");
            }
        }

        like = new Like3();
        like.lambda();

        //5.åŒ¿åå†…éƒ¨ç±»,æ²¡æœ‰ç±»çš„åç§°ï¼Œå¿…é¡»å€ŸåŠ©æ¥å£æˆ–è€…çˆ¶ç±»
        like = new ILike() {
            @Override
            public void lambda() {
                System.out.println(" I like lambda4");
            }
        };

        like.lambda();

        //6.ç”¨lambdaè¡¨è¾¾å¼
        like = ()->{
            System.out.println(" i like lambda5");
        };
        like.lambda();
    }
}

//1.å®šä¹‰ä¸€ä¸ªå‡½æ•°å¼æ¥å£
interface ILike {
    void lambda();
}

//2.å®ç°ç±»
class Like implements ILike {

    @Override
    public void lambda() {
        System.out.println(" I like lambda");
    }
}
```
**æ¡ˆä¾‹2ï¼š**

```java
/**
 * @Description TestLambda2
 * @Author vchicken
 * @Date 2022/8/30 19:42
 */
public class TestLambda2 {

    public static void main(String[] args) {
        class Love implements ILove {

            @Override
            public void love(int a) {
                System.out.println("I love a" + a);
            }
        }

        ILove love = new Love();
        love.love(1);

        love = new ILove() {

            @Override
            public void love(int a) {
                System.out.println("I love b" + a);
            }
        };

        love.love(2);

        love = (a) -> {
            System.out.println("I love c" + a);
        };

        love.love(3);

        love = a -> {
            System.out.println("I love d" + a);
        };

        love.love(4);

        love = a -> System.out.println("I love e" + a);
        
        love.love(5);
    }
}

interface ILove {
    void love(int a);
}
```

## 6.çº¿ç¨‹çŠ¶æ€



### çº¿ç¨‹çš„çŠ¶æ€

![çº¿ç¨‹çŠ¶æ€](https://img-blog.csdnimg.cn/1984a898e6924e4ba44b6a3a492a893c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)
![çº¿ç¨‹çŠ¶æ€æè¿°](https://img-blog.csdnimg.cn/a8e1138a4078491db6f26235ca51bcbf.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)



### çº¿ç¨‹æ–¹æ³•

![çº¿ç¨‹æ–¹æ³•](https://img-blog.csdnimg.cn/0b8070d3b2164eb6ae51c64de742dadb.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)



**çº¿ç¨‹åœæ­¢**

  1. ä¸ç”¨ä½¿ç”¨stopæˆ–destory ç­‰è¿‡æ—¶æˆ–è€…JDK ä¸å»ºè®®ä½¿ç”¨çš„æ–¹æ³•

     

  2. æ¨èçº¿ç¨‹è‡ªå·±åœæ­¢ä¸‹æ¥

     

  3. å»ºè®®ä½¿ç”¨æ ‡å¿—ä½è¿›è¡Œç»ˆæ­¢å˜é‡ï¼Œå½“flag=falseï¼Œåˆ™ç»ˆæ­¢çº¿ç¨‹è¿è¡Œã€‚

**çº¿ç¨‹ä¼‘çœ ï¼ˆsleepï¼‰**

  1. sleepï¼ˆæ—¶é—´ï¼‰æŒ‡å®šå½“å‰çº¿ç¨‹é˜»å¡çš„**æ¯«ç§’æ•°**ï¼›

     

  2. sleep å­˜åœ¨å¼‚å¸¸InterruptedExceptionï¼›

     

  3. sleep æ—¶é—´è¾¾åˆ°åçº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€

     

  4. sleep å¯ä»¥æ¨¡æ‹Ÿç½‘ç»œå»¶æ—¶ï¼Œå€’è®¡æ—¶ç­‰ã€‚

     

  5. æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªé”ï¼Œsleepä¸ä¼šé‡Šæ”¾é”ï¼›

**æ¡ˆä¾‹1ï¼šæ¨¡æ‹Ÿç½‘ç»œå»¶æ—¶**
```java
/**
 * @Description TestSleep
 * @Author vchicken
 * @Date 2022/8/30 20:26
 */
public class TestSleep implements Runnable {

    //ç¥¨æ•°
    private int ticketNums = 10;

    @Override
    public void run() {
        while (true) {
            if (ticketNums <= 0) {
                break;
            }
            //æ¨¡æ‹Ÿå»¶æ—¶
            try {
                Thread.sleep(100);
            } catch (Exception e) {
                e.printStackTrace();
            }
            System.out.println(Thread.currentThread().getName() + "--->æ‹¿åˆ°äº†ç¬¬" + ticketNums-- + "ç¥¨");
        }

    }

    public static void main(String[] args) {
        TestSleep testSleep = new TestSleep();

        new Thread(testSleep, "å°æ˜").start();
        new Thread(testSleep, "å°çº¢").start();
        new Thread(testSleep, "é»„ç‰›å…š").start();

    }
}
```

**æ¡ˆä¾‹2ï¼šæ¨¡æ‹Ÿå€’è®¡æ—¶ ã€æ‰“å°å½“å‰ç³»ç»Ÿæ—¶é—´**
```java
/**
 * @Description TestSleep2
 * @Author vchicken
 * @Date 2022/8/30 20:28
 */
public class TestSleep2 {

    /**
     * æ¨¡æ‹Ÿå€’è®¡æ—¶
     *
     * @throws InterruptedException
     */
    public static void testDown() throws InterruptedException {
        int num = 10;
        while (true) {
            Thread.sleep(1000);
            System.out.println(num--);
            if (num == 0) {
                break;
            }
        }
    }

    /**
     * æ‰“å°å½“å‰æ—¶é—´
     */
    public static void printNowDate() {
        //æ‰“å°å½“å‰ç³»ç»Ÿæ—¶é—´
        Date stattTime = new Date(System.currentTimeMillis());
        while (true) {
            try {
                //ä¼‘çœ 1ç§’
                Thread.sleep(1000);
                //æ ¼å¼åŒ–æ—¶é—´,å¹¶è¾“å‡ºæ—¶é—´
                System.out.println(new SimpleDateFormat("yyyyå¹´MMæœˆddæ—¥ HH:mm:ss").format(stattTime));
                //æ›´æ–°è·å–æ—¶é—´
                stattTime = new Date(System.currentTimeMillis());
            } catch (Exception e) {
                e.printStackTrace();
            }

        }
    }

    public static void main(String[] args) {
        printNowDate();
    }
}
```

**çº¿ç¨‹ç¤¼è®©ï¼ˆyieldï¼‰**

  1. ç¤¼è®©çº¿ç¨‹ï¼Œè®©å½“å‰**æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹æš‚åœ**ï¼Œ**ä½†ä¸é˜»å¡**

     

  2. å°†çº¿ç¨‹ä»**è¿è¡ŒçŠ¶æ€**è½¬ä¸º**å°±ç»ªçŠ¶æ€**

     

  3. è®©cpu é‡æ–°è°ƒåº¦ï¼Œ**ç¤¼è®©ä¸ä¸€å®šæˆåŠŸ**ï¼çœ‹cpuå¿ƒæƒ…

     

  4. è¯¥æ–¹æ³•åªæ˜¯å¯¹çº¿ç¨‹è°ƒåº¦å™¨çš„ä¸€ä¸ªå»ºè®®ï¼Œè€Œä¸”ä¹Ÿåªæ˜¯å»ºè®®**å…·æœ‰ç›¸åŒä¼˜å…ˆçº§**çš„å…¶å®ƒçº¿ç¨‹å¯ä»¥è¿è¡Œã€‚

```java
/**
 * @Description TestYield
 * @Author vchicken
 * @Date 2022/8/30 20:31
 */
public class TestYield {

    public static void main(String[] args) {
        MyYield myYield = new MyYield();

        new Thread(myYield, "A").start();
        new Thread(myYield, "B").start();

    }
}


class MyYield implements Runnable {

    @Override
    public void run() {
        System.out.println(Thread.currentThread().getName() + "çº¿ç¨‹å¼€å§‹æ‰§è¡Œ");
        //ç¤¼è®©
        Thread.yield();
        System.out.println(Thread.currentThread().getName() + "çº¿ç¨‹åœæ­¢æ‰§è¡Œ");
    }

}
```

**çº¿ç¨‹å¼ºåˆ¶æ‰§è¡Œï¼šï¼ˆjoinï¼‰**
**Join åˆå¹¶çº¿ç¨‹**ï¼Œå¾…æ­¤çº¿ç¨‹æ‰§è¡Œå®Œæˆåï¼Œå†æ‰§è¡Œå…¶ä»–çº¿ç¨‹ï¼Œ**å…¶ä»–çº¿ç¨‹é˜»å¡**ï¼Œå¯ä»¥æƒ³è±¡æˆæ’é˜Ÿã€‚

![æ’é˜Ÿ](https://img-blog.csdnimg.cn/d128e06c246f4533aeb19c3c91cf05ec.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

```java
/**
 * @Description TestJoin
 * @Author vchicken
 * @Date 2022/8/30 20:37
 */
public class TestJoin implements Runnable {

    @Override
    public void run() {
        for (int i = 0; i < 100; i++) {
            System.out.println("çº¿ç¨‹VIP æ¥äº†" + i);
        }
    }

    public static void main(String[] args) throws InterruptedException {
        TestJoin testJoin = new TestJoin();
        Thread thread = new Thread(testJoin);
        //å¯åŠ¨çº¿ç¨‹
        thread.start();

        //ä¸»çº¿ç¨‹
        for (int i = 0; i < 200; i++) {
            if (i == 100) {
                thread.join();//æ’é˜Ÿ
            }
            System.out.println("main" + i);
        }

    }
}
```

**çº¿ç¨‹ä¼˜å…ˆçº§**

- Javaæä¾›ä¸€ä¸ªçº¿ç¨‹è°ƒåº¦å™¨æ¥ç›‘æ§ç¨‹åºä¸­å¯åŠ¨åè¿›å…¥å°±ç»ªçŠ¶æ€çš„æ‰€æœ‰çº¿ç¨‹ï¼Œçº¿ç¨‹è°ƒåº¦å™¨å®‰è£…ä¼˜å…ˆçº§å†³å®šåº”è¯¥è°ƒåº¦å“ªä¸ªçº¿ç¨‹æ¥æ‰§è¡Œã€‚

- çº¿ç¨‹çš„ä¼˜å…ˆçº§ç”¨æ•°å­—è¡¨ç¤ºï¼ŒèŒƒå›´ä»1â€”â€”10

  

  - Thread.MIN_PRIORITY = 1;

    

  - Thread.MAX_PRIORITY = 10;

    

  - Thread.NOPM_PRIORITY = 5;

    

- ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æ”¹å˜æˆ–è·å–ä¼˜å…ˆçº§

  - getPriority()
  - setPriority(int xx)

```java
/**
 * @Description TestPriority
 * @Author vchicken
 * @Date 2022/8/30 21:05
 */
public class TestPriority {

    public static void main(String[] args) {
        //ä¸»çº¿ç¨‹é»˜è®¤ä¼˜å…ˆçº§
        System.out.println(Thread.currentThread().getName() + "==" + Thread.currentThread().getPriority());

        MyPriority myPriority = new MyPriority();
        Thread t1 = new Thread(myPriority);
        Thread t2 = new Thread(myPriority);
        Thread t3 = new Thread(myPriority);
        Thread t4 = new Thread(myPriority);
        Thread t5 = new Thread(myPriority);
        Thread t6 = new Thread(myPriority);
        //å…ˆè®¾ç½®ä¼˜å…ˆçº§ï¼Œå†å¯åŠ¨
        t1.start();
        t2.setPriority(1);
        t2.start();

        t3.setPriority(4);
        t3.start();

        //MAX_PRIORITY=10
        t4.setPriority(Thread.MAX_PRIORITY);
        t4.start();

        //   t5.setPriority(-1);//é€šè¿‡æŸ¥çœ‹æºç å‘ç°ï¼Œè®¾ç½®ä¼˜å…ˆçº§ä¸º-1ä¼šæŠ¥é”™ï¼ˆå°äº1ï¼‰
        //  t5.start();

        // t6.setPriority(11);//é€šè¿‡æŸ¥çœ‹æºç å‘ç°ï¼Œè®¾ç½®ä¼˜å…ˆçº§ä¸º11ä¼šæŠ¥é”™ï¼ˆå¤§äº10ï¼‰
        //t6.start();

        t5.setPriority(8);
        t5.start();

        t6.setPriority(7);
        t6.start();
    }
}

class MyPriority implements Runnable {
    @Override
    public void run() {
        System.out.println(Thread.currentThread().getName() + "==" + Thread.currentThread().getPriority());
    }
}
```

ä¼˜å…ˆçº§ä½åªæ˜¯æ„å‘³ç€è·å¾—è°ƒåº¦çš„æ¦‚ç‡ä½ï¼Œå¹¶ä¸æ˜¯ä¼˜å…ˆçº§ä½å°±ä¸ä¼šè¢«è°ƒç”¨ï¼Œè¿™éƒ½æ˜¯çœ‹CPUçš„è°ƒåº¦ã€‚

**å®ˆæŠ¤(daemon)çº¿ç¨‹**

`å®ˆæŠ¤çº¿ç¨‹`æ˜¯ç¨‹åºè¿è¡Œæ—¶åœ¨åå°æä¾›æœåŠ¡çš„çº¿ç¨‹ï¼Œä¸å±äºç¨‹åºä¸­ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ã€‚

1. çº¿ç¨‹åˆ†ä¸º**ç”¨æˆ·çº¿ç¨‹**å’Œ**å®ˆæŠ¤çº¿ç¨‹**
2. è™šæ‹Ÿæœºå¿…é¡»ç¡®ä¿**ç”¨æˆ·çº¿ç¨‹**æ‰§è¡Œå®Œæ¯•ï¼Œè™šæ‹Ÿæœºä¸ç”¨ç­‰å¾…**å®ˆæŠ¤çº¿ç¨‹**æ‰§è¡Œå®Œæ¯•
3. å½“æ‰€æœ‰éå®ˆæŠ¤çº¿ç¨‹ç»“æŸæ—¶ï¼Œç¨‹åºä¹Ÿå°±ç»ˆæ­¢ï¼ŒåŒæ—¶ä¼šæ€æ­»æ‰€æœ‰å®ˆæŠ¤çº¿ç¨‹ã€‚
4. main() å±äºéå®ˆæŠ¤çº¿ç¨‹ï¼Œå³ç”¨æˆ·çº¿ç¨‹ã€‚
5. ä½¿ç”¨ setDaemon() æ–¹æ³•å°†ä¸€ä¸ªçº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚

å¦‚ï¼šåå°è®°å½•æ“ä½œæ—¥å¿—ã€ç›‘æ§å†…å­˜ã€åƒåœ¾å›æ”¶ç­‰ç­‰â€¦

```java
/**
 * @Description TestDaemon
 * @Author vchicken
 * @Date 2022/8/30 21:14
 */
public class TestDaemon {

    public static void main(String[] args) {
        God god = new God();
        Your you = new Your();

        Thread thread = new Thread(god);
        //é»˜è®¤æ˜¯falseè¡¨ç¤ºæ˜¯ç”¨æˆ·çº¿ç¨‹ï¼Œæ­£å¸¸çš„çº¿ç¨‹éƒ½æ˜¯ç”¨æˆ·çº¿ç¨‹
        thread.setDaemon(true);

        //ä¸Šå¸å®ˆæŠ¤çº¿ç¨‹å¯åŠ¨
        thread.start();

        //ä½  ç”¨æˆ·çº¿ç¨‹å¯åŠ¨
        new Thread(you).start();

    }
}

/**
 * ä½ 
 */
class Your implements Runnable {

    @Override
    public void run() {
        for (int i = 0; i < 36500; i++) {
            System.out.println("ä½ ä¸€ç”Ÿéƒ½å¼€å¿ƒæ´»ç€");
        }
        System.out.println("=========goodbye! world=======");
    }
}

/**
 * ä¸Šå¸
 */
class God implements Runnable {
    @Override
    public void run() {
        while (true) {
            System.out.println("ä¸Šå¸ä¿æŠ¤ç€ä½ ");
        }
    }
}
```

**Executor**

`Executor` ç®¡ç†å¤šä¸ªå¼‚æ­¥ä»»åŠ¡çš„æ‰§è¡Œï¼Œè€Œæ— éœ€ç¨‹åºå‘˜æ˜¾å¼åœ°ç®¡ç†çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™é‡Œçš„å¼‚æ­¥æ˜¯æŒ‡å¤šä¸ªä»»åŠ¡çš„æ‰§è¡Œäº’ä¸å¹²æ‰°ï¼Œä¸éœ€è¦è¿›è¡ŒåŒæ­¥æ“ä½œã€‚ 
ä¸»è¦æœ‰ä¸‰ç§ Executor: 

- **CachedThreadPool**: ä¸€ä¸ªä»»åŠ¡åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼› 
- **FixedThreadPool**: æ‰€æœ‰ä»»åŠ¡åªèƒ½ä½¿ç”¨å›ºå®šå¤§å°çš„çº¿ç¨‹ï¼›
- **SingleThreadExecutor**: ç›¸å½“äºå¤§å°ä¸º 1 çš„ FixedThreadPoolã€‚

```java
public static void main(String[] args) {
    ExecutorService executorService = Executors.newCachedThreadPool();
    for (int i = 0; i < 5; i++) {
        executorService.execute(new MyRunnable());
    }
    executorService.shutdown();
}

```


## 7.çº¿ç¨‹çŠ¶æ€è§‚æµ‹

**1.æ–°å»º(New)**

**å°šæœªå¯åŠ¨çš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€**ã€‚

**2.å¯è¿è¡Œ(Runnable)** 

**åœ¨Javaè™šæ‹Ÿæœºä¸­æ‰§è¡Œçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€**ã€‚å¯èƒ½æ­£åœ¨è¿è¡Œï¼Œä¹Ÿå¯èƒ½æ­£åœ¨ç­‰å¾… CPU æ—¶é—´ç‰‡ã€‚åŒ…å«äº†æ“ä½œç³»ç»Ÿçº¿ç¨‹çŠ¶æ€ä¸­çš„ **Running**å’Œ **Ready**ã€‚ 

**3.é˜»å¡(Blocked)** 

**è¢«é˜»å¡ç­‰å¾…ç›‘è§†å™¨é”å®šçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€**ã€‚ç­‰å¾…è·å–ä¸€ä¸ªæ’å®ƒé”ï¼Œå¦‚æœå…¶çº¿ç¨‹é‡Šæ”¾äº†é”å°±ä¼šç»“æŸæ­¤çŠ¶æ€ã€‚ 

**4.æ— é™æœŸç­‰å¾…(Waiting)** 

**æ­£åœ¨ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç‰¹å®šåŠ¨ä½œçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€**ã€‚ç­‰å¾…å…¶å®ƒçº¿ç¨‹æ˜¾å¼åœ°å”¤é†’ï¼Œå¦åˆ™ä¸ä¼šè¢«åˆ†é… CPU æ—¶é—´ç‰‡ã€‚ 

| è¿›å…¥æ–¹æ³• | é€€å‡ºæ–¹æ³• |
| - | - |
| æ²¡æœ‰è®¾ç½® Timeout å‚æ•°çš„ Object.wait() æ–¹æ³•| Object.notify() / Object.notifyAll()|
| æ²¡æœ‰è®¾ç½® Timeout å‚æ•°çš„ Thread.join() æ–¹æ³•| è¢«è°ƒç”¨çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•|
| LockSupport.park() æ–¹æ³•| -|

**5.é™æœŸç­‰å¾…(Timed Waiting)** 

**æ­£åœ¨ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŠ¨ä½œè¾¾åˆ°æŒ‡å®šç­‰å¾…æ—¶é—´çš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€**ã€‚æ— éœ€ç­‰å¾…å…¶å®ƒçº¿ç¨‹æ˜¾å¼åœ°å”¤é†’ï¼Œåœ¨ä¸€å®šæ—¶é—´ä¹‹åä¼šè¢«ç³»ç»Ÿè‡ªåŠ¨å”¤é†’ã€‚ 
è°ƒç”¨ Thread.sleep() æ–¹æ³•ä½¿çº¿ç¨‹è¿›å…¥é™æœŸç­‰å¾…çŠ¶æ€æ—¶ï¼Œå¸¸å¸¸ç”¨â€œä½¿ä¸€ä¸ªçº¿ç¨‹ç¡çœ â€è¿›è¡Œæè¿°ã€‚ 
è°ƒç”¨ Object.wait() æ–¹æ³•ä½¿çº¿ç¨‹è¿›å…¥é™æœŸç­‰å¾…æˆ–è€…æ— é™æœŸç­‰å¾…æ—¶ï¼Œå¸¸å¸¸ç”¨â€œæŒ‚èµ·ä¸€ä¸ªçº¿ç¨‹â€è¿›è¡Œæè¿°ã€‚ 
ç¡çœ å’ŒæŒ‚èµ·æ˜¯ç”¨æ¥æè¿°è¡Œä¸ºï¼Œè€Œé˜»å¡å’Œç­‰å¾…ç”¨æ¥æè¿°çŠ¶æ€ã€‚ 
é˜»å¡å’Œç­‰å¾…çš„åŒºåˆ«åœ¨äºï¼Œé˜»å¡æ˜¯è¢«åŠ¨çš„ï¼Œå®ƒæ˜¯åœ¨ç­‰å¾…è·å–ä¸€ä¸ªæ’å®ƒé”ã€‚è€Œç­‰å¾…æ˜¯ä¸»åŠ¨çš„ï¼Œé€šè¿‡è°ƒç”¨ Thread.sleep() å’Œ Object.wait() ç­‰æ–¹æ³•è¿›å…¥ã€‚ 
![é™æœŸç­‰å¾…](https://vue-admin-imgages.oss-cn-hangzhou.aliyuncs.com/2022-08-30/72f90c92-167c-4a78-b4ae-decc8d9efb54.png)

**6.æ­»äº¡(Terminated)** 

**å·²é€€å‡ºçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€**ã€‚å¯ä»¥æ˜¯çº¿ç¨‹ç»“æŸä»»åŠ¡ä¹‹åè‡ªå·±ç»“æŸï¼Œæˆ–è€…äº§ç”Ÿäº†å¼‚å¸¸è€Œç»“æŸã€‚

**çº¿ç¨‹çŠ¶æ€è½¬æ¢**

![çº¿ç¨‹çŠ¶æ€è½¬æ¢](https://www.pdai.tech/_images/pics/ace830df-9919-48ca-91b5-60b193f593d2.png)

```java
/**
 * @Description TeetState
 * @Author vchicken
 * @Date 2022/8/30 20:56
 */
public class TestState {

    public static void main(String[] args) throws InterruptedException {

        Thread thread = new Thread(() -> {
            for (int i = 0; i < 5; i++) {
                try {
                    Thread.sleep(1000);
                } catch (Exception e) {
                    e.printStackTrace();
                }
                System.out.println("/");
            }
        });

        //è§‚å¯ŸçŠ¶æ€
        Thread.State state = thread.getState();
        System.out.println(state);

        //è§‚å¯Ÿå¯åŠ¨å
        thread.start();
        state = thread.getState();
        System.out.println(state);
        //åªè¦çº¿ç¨‹ä¸ç»ˆæ­¢ï¼Œå°±ä¸€ç›´è¾“å‡ºçŠ¶æ€
        while (state != Thread.State.TERMINATED) {
            Thread.sleep(100);
            state = thread.getState();//æ›´æ–°çº¿ç¨‹çŠ¶æ€
            System.out.println(state);//è¾“å‡ºçº¿ç¨‹çŠ¶æ€
        }

    }
}
```
æ³¨æ„ï¼š**çº¿ç¨‹ä¸­æ–­æˆ–ç»“æŸï¼Œä¸€æ—¦è¿›å…¥æ­»äº¡çŠ¶æ€ï¼Œå°±ä¸èƒ½å†æ¬¡å¯åŠ¨**ã€‚


## 8.çº¿ç¨‹åŒæ­¥

å¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€ä¸ªèµ„æº

**å¹¶å‘ï¼š**åŒä¸€ä¸ªå¯¹è±¡è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œã€‚

- ç°å®ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°â€œåŒä¸€èµ„æºï¼Œå¤šä¸ªäººéƒ½æƒ³ä½¿ç”¨â€çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼šé£Ÿå ‚æ’é˜Ÿæ‰“é¥­ï¼Œæ¯ä¸ªäººéƒ½æƒ³åƒé¥­ï¼Œæœ€å¤©ç„¶çš„è§£å†³åŠæ³•å°±æ˜¯ï¼Œæ’é˜Ÿï¼Œä¸€ä¸ªä¸ªæ¥ã€‚
![æ’é˜Ÿ](https://img-blog.csdnimg.cn/f12bacb3f04c4bcebb60716949925be2.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

- å¤„ç†å¤šçº¿ç¨‹é—®é¢˜æ—¶ï¼Œå¤šä¸ªçº¿ç¨‹è®¿é—®åŒä¸€ä¸ªå¯¹è±¡ï¼ˆå¹¶å‘ï¼‰ï¼Œå¹¶ä¸”æŸäº›çº¿ç¨‹è¿˜æƒ³ä¿®æ”¹è¿™ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦**çº¿ç¨‹åŒæ­¥**ï¼Œçº¿ç¨‹åŒæ­¥å°±æ˜¯ä¸€ç§æœºåˆ¶ï¼Œ**å¤šä¸ªéœ€è¦åŒæ—¶è®¿é—®æ­¤å¯¹è±¡çš„çº¿ç¨‹è¿›å…¥è¿™ä¸ªå¯¹è±¡çš„ç­‰å¾…æ± å½¢æˆé˜Ÿåˆ—**ï¼Œç­‰å¾…å‰é¢çº¿ç¨‹ä½¿ç”¨å®Œæ¯•ï¼Œä¸‹ä¸€ä¸ªçº¿ç¨‹å†ä½¿ç”¨ã€‚

**é˜Ÿåˆ—å’Œé”**

â€‹	ç”±äºåŒä¸€ä¸ªè¿›ç¨‹çš„**å¤šä¸ªçº¿ç¨‹å…±äº«åŒä¸€å—å­˜å‚¨ç©ºé—´**ï¼Œåœ¨å¸¦æ¥æ–¹ä¾¿çš„åŒæ—¶ï¼Œä¹Ÿå¸¦æ¥äº†è®¿é—®å†²çªé—®é¢˜ï¼Œä¸ºäº†ä¿è¯æ•°æ®åœ¨æ–¹æ³•ä¸­è¢«è®¿é—®æ—¶çš„æ­£ç¡®æ€§ï¼Œåœ¨è®¿é—®æ—¶åŠ å…¥ `é”æœºåˆ¶ synchronized` ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹è·å¾—å¯¹è±¡çš„**æ’å®ƒé”**ï¼Œç‹¬å èµ„æºï¼Œå…¶ä»–çº¿ç¨‹å¿…é¡»ç­‰å¾…ï¼Œä½¿ç”¨åé‡Šæ”¾é”å³å¯ã€‚
**å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š**

â€ƒâ€ƒ1.ä¸€ä¸ªçº¿ç¨‹æœ‰é”ä¼šå¯¼è‡´**å…¶ä»–éœ€è¦æ­¤é”çš„çº¿ç¨‹æŒ‚èµ·**ï¼›

â€ƒâ€ƒ2.åœ¨å¤šçº¿ç¨‹ç«äº‰ä¸‹ï¼ŒåŠ é”ï¼Œé‡Šæ”¾é”ä¼šå¯¼è‡´æ¯”è¾ƒå¤šçš„`ä¸Šä¸‹æ–‡åˆ‡æ¢`å’Œ`è°ƒåº¦å»¶æ—¶`ï¼Œå¼•èµ·æ€§èƒ½é—®é¢˜ï¼›

â€ƒâ€ƒ3.å¦‚æœä¸€ä¸ªä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹ç­‰å¾…ä¸€ä¸ªä¼˜å…ˆçº§ä½çš„çº¿ç¨‹é‡Šæ”¾é” ä¼šå¯¼è‡´**ä¼˜å…ˆçº§å€’ç½®**ï¼Œå¼•èµ·æ€§èƒ½é—®é¢˜ã€‚

**çº¿ç¨‹ä¸å®‰å…¨æ¡ˆä¾‹1ï¼šä¸å®‰å…¨çš„ä¹°ç¥¨**

```java
/**
 * @Description UnsafeBuyTicket
 * @Author vchicken
 * @Date 2022/8/30 21:32
 */
public class UnsafeBuyTicket {
    public static void main(String[] args) {

        BuyTicket station = new BuyTicket();

        new Thread(station, "å°æ˜").start();
        new Thread(station, "å°è“").start();
        new Thread(station, "é»„ç‰›").start();

    }

}

class BuyTicket implements Runnable {

    /**
     * ç¥¨
     */
    private int ticketNums = 10;


    /**
     * å¤–éƒ¨åœæ­¢æ–¹å¼
     */
    private boolean flag = true;

    @Override
    public void run() {
        //ä¹°ç¥¨
        while (flag) {
            buy();
        }
    }

    private void buy() {
        //åˆ¤æ–­æ˜¯å¦æœ‰ç¥¨
        if (ticketNums <= 0) {
            flag = false;
            return;
        }
        //æ¨¡æ‹Ÿå»¶æ—¶
        try {
            Thread.sleep(100);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        //ä¹°ç¥¨
        System.out.println(Thread.currentThread().getName() + "æ‹¿åˆ°" + ticketNums-- + "å¼ ç¥¨");
    }
}
```

**çº¿ç¨‹ä¸å®‰å…¨æ¡ˆä¾‹2ï¼šä¸å®‰å…¨çš„å–é’±**

```java
/**
 * @Description UnsafeBank
 * @Author vchicken
 * @Date 2022/8/30 21:35
 */
public class UnsafeBank {
    public static void main(String[] args) {
        //è´¦æˆ·
        Account account = new Account(100, "ç»“å©šåŸºé‡‘");
        Drawing you = new Drawing(account, 50, "ä½ ");
        Drawing girlFriend = new Drawing(account, 100, "girlFriend");

        you.start();
        girlFriend.start();

    }

}

/**
 * è´¦æˆ·
 */
class Account {
    /**
     * ä½™é¢
     */
    int money;

    /**
     * å¡å
     */
    String name;

    public Account(int money, String name) {
        this.money = money;
        this.name = name;
    }
}

/**
 * é“¶è¡Œï¼šæ¨¡æ‹Ÿå–æ¬¾
 */
class Drawing extends Thread {

    /**
     * è´¦æˆ·
     */
    Account account;
    
    /**
     * å–äº†å¤šå°‘é’±
     */
    int drawingMoney;
    
    /**
     * ç°åœ¨æ‰‹é‡Œæœ‰å¤šå°‘é’±
     */
    int nowMoney;

    public Drawing(Account account, int drawingMoney, String name) {
        super(name);
        this.account = account;
        this.drawingMoney = drawingMoney;
    }

    @Override
    public void run() {
        //åˆ¤æ–­æœ‰æ²¡æœ‰é’±
        if (account.money - drawingMoney < 0) {
            System.out.println(Thread.currentThread().getName() + "é’±ä¸å¤Ÿï¼Œå–ä¸äº†");
            return;
        }

        try {
            Thread.sleep(100);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }


        //å¡å†…ä½™é¢ = ä½™é¢ å‡å» ä½ å–çš„å‰
        account.money = account.money - drawingMoney;
        //ä½ æ‰‹é‡Œçš„é’±
        nowMoney = nowMoney + drawingMoney;

        System.out.println(account.name + "ä½™é¢ä¸ºï¼š" + account.money);
        //Thread.currentThread().getName() = this.getName();
        System.out.println(this.getName() + "æ‰‹é‡Œçš„é’±" + nowMoney);

    }
}
```

**çº¿ç¨‹ä¸å®‰å…¨æ¡ˆä¾‹3ï¼šä¸å®‰å…¨çš„é›†åˆ**
```java
/**
 * @Description UnsafeList
 * @Author vchicken
 * @Date 2022/8/30 21:49
 */
public class UnsafeList {

    public static void main(String[] args) throws InterruptedException {

        List<String> list = new ArrayList<>();
        for (int i = 0; i < 10000; i++) {
            new Thread(()->{
                list.add(Thread.currentThread().getName());
            }).start();
        }
        Thread.sleep(3000);
        System.out.println(list.size());

 
   }
}

//è¿è¡Œç»“æœ
9998
```

### åŒæ­¥æ–¹æ³•

  ç”±äºæˆ‘ä»¬å¯ä»¥é€šè¿‡private å…³é”®å­—æ¥ä¿è¯æ•°æ®å¯¹è±¡åªèƒ½è¢«æ–¹æ³•è®¿é—®ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å¯¹æ–¹æ³•æå‡ºä¸€å¥—æœºåˆ¶ï¼Œè¿™å¥—æœºåˆ¶å°±æ˜¯`synchronizedå…³é”®å­—`ï¼Œå®ƒåŒ…æ‹¬ä¸¤ç§ç”¨æ³•ï¼š**synchronizedæ–¹æ³•**å’Œ**synchronizedå—**ï¼›

```java
åŒæ­¥æ–¹æ³•ï¼špublic synchronized void method(int args){}
```
`synchronizedæ–¹æ³•` æ§åˆ¶å¯¹ â€œ**å¯¹è±¡**â€çš„è®¿é—®ï¼Œæ¯ä¸ªå¯¹è±¡å¯¹åº”ä¸€æŠŠé”ï¼Œæ¯ä¸ªsynchronized æ–¹æ³•éƒ½å¿…é¡»**è·å¾—è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡çš„é”æ‰èƒ½æ‰§è¡Œ**ï¼Œå¦åˆ™çº¿ç¨‹ä¼šé˜»å¡ï¼Œæ–¹æ³•ä¸€æ—¦æ‰§è¡Œï¼Œå°±ç‹¬å è¯¥é”ï¼Œç›´åˆ°è¯¥æ–¹æ³•è¿”å›æ‰é‡Šæ”¾é”ï¼Œåé¢è¢«é˜»å¡çš„çº¿ç¨‹æ‰èƒ½è·å¾—è¿™ä¸ªé”ï¼Œç»§ç»­æ‰§è¡Œã€‚
- ç¼ºé™·ï¼šè‹¥å°†ä¸€ä¸ªå¤§çš„æ–¹æ³•å£°æ˜ä¸ºsynchronized å°†ä¼šå½±å“æ•ˆç‡ã€‚æ–¹æ³•é‡Œé¢éœ€è¦ä¿®æ”¹çš„å†…å®¹æ‰éœ€è¦é”ï¼Œé”çš„å¤ªå¤šï¼Œæµªè´¹èµ„æºã€‚

![](https://img-blog.csdnimg.cn/3fdf221e9f6a4fe0a86933ac8a521157.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

### åŒæ­¥å—

**åŒæ­¥å—**ï¼šsynchronized (obj){ }

- obj ç§°ä¹‹ä¸º`åŒæ­¥ç›‘è§†å™¨`
- obj å¯ä»¥æ˜¯**ä»»ä½•å¯¹è±¡**ï¼Œä½†æ˜¯æ¨èä½¿ç”¨**å…±äº«èµ„æº**ä½œä¸ºåŒæ­¥ç›‘è§†å™¨

åŒæ­¥æ–¹æ³•ä¸­æ— éœ€æŒ‡å®šåŒæ­¥ç›‘è§†å™¨ï¼Œå› ä¸ºåŒæ­¥æ–¹æ³•çš„åŒæ­¥ç›‘è§†å™¨å°±æ˜¯**this**ï¼Œå°±æ˜¯å’Œè¿™ä¸ª**å¯¹è±¡æœ¬èº«**ï¼Œæˆ–è€…æ˜¯**class**

**åŒæ­¥ç›‘è§†å™¨çš„æ‰§è¡Œè¿‡ç¨‹**

1. ç¬¬ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œé”å®šåŒæ­¥ç›‘è§†å™¨ï¼Œæ‰§è¡Œå…¶ä¸­ä»£ç 
2. ç¬¬äºŒä¸ªçº¿ç¨‹è®¿é—®ï¼Œå‘ç°åŒæ­¥ç›‘è§†å™¨ï¼Œæ— æ³•è®¿é—®
3. ç¬¬ä¸€ä¸ªçº¿ç¨‹è®¿é—®å®Œæ¯•ï¼Œè§£é”åŒæ­¥ç›‘è§†å™¨
4. ç¬¬äºŒä¸ªçº¿ç¨‹è®¿é—®ï¼Œå‘ç°åŒæ­¥ç›‘è§†å™¨æ²¡æœ‰é”ï¼Œç„¶åé”å®šå¹¶è®¿é—®

é”çš„å¯¹è±¡å°±æ˜¯**å˜åŒ–çš„é‡**ï¼Œéœ€è¦å¢åˆ æ”¹çš„æ•°æ®

## 9.æ­»é”

**æ¦‚å¿µï¼š**
  å¤šä¸ªçº¿ç¨‹å„è‡ªå æœ‰ä¸€äº›èµ„æºï¼Œå¹¶ä¸”**äº’ç›¸ç­‰å¾…å…¶ä»–çº¿ç¨‹å æœ‰çš„èµ„æºæ‰èƒ½è¿è¡Œ**ï¼Œè€Œå¯¼è‡´è¿™**ä¸¤ä¸ªæˆ–è€…å¤šä¸ªçº¿ç¨‹**éƒ½åœ¨ç­‰å¾…å¯¹æ–¹é‡Šæ”¾èµ„æºï¼Œéƒ½åœæ­¢æ‰§è¡Œçš„æƒ…å½¢ï¼ŒæŸä¸€ä¸ªåŒæ­¥å—åŒæ—¶æ‹¥æœ‰â€œ**ä¸¤ä¸ªä»¥ä¸Šå¯¹è±¡çš„é”æ—¶**â€ï¼Œå°±å¯èƒ½å‘ç”Ÿâ€œæ­»é”â€çš„é—®é¢˜ã€‚

**æ­»é”æ¡ˆä¾‹ï¼š**
```java
/**
 * @Description TestLock
 * @Author vchicken
 * @Date 2022/8/31 20:28
 */
public class TestLock {
    public static void main(String[] args) {
        Makeup g1 = new Makeup(0, "ç°å§‘å‡‰");
        Makeup g2 = new Makeup(1, "ç™½é›ªå…¬ä¸»");

        g1.start();
        g2.start();


    }
}


class Lipstick {

}

/**
 * é•œå­
 */
class Mirror {

}

class Makeup extends Thread {

    //éœ€è¦çš„èµ„æºåªæœ‰ä¸€ä»½ï¼Œç”¨static æ¥ä¿è¯åªæœ‰ä¸€ä»½
    static Lipstick lipstick = new Lipstick();
    static Mirror mirror = new Mirror();

    /**
     * é€‰æ‹©
     */
    int choice;

    /**
     * ä½¿ç”¨åŒ–å¦†å“çš„äºº
     */
    String girlName;

    public Makeup(int choice, String girlName) {
        this.choice = choice;
        this.girlName = girlName;
    }

    @Override
    public void run() {

        try {
            makeup();
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

    }

    //åŒ–å¦†ï¼Œäº’ç›¸æŒæœ‰å¯¹æ–¹çš„é”ï¼Œå°±æ˜¯éœ€è¦æ‹¿åˆ°å¯¹æ–¹çš„èµ„æº
    private void makeup() throws InterruptedException {
        if (choice == 0) {
            //è·å¾—å£çº¢çš„é”
            synchronized (lipstick) {
                System.out.println(this.girlName + "è·å¾—å£çº¢çš„é”");
                Thread.sleep(100);

                synchronized (mirror) {//ä¸€ç§’é’Ÿåæƒ³è·å¾—é•œå­
                    System.out.println(this.girlName + "è·å¾—é•œå­çš„é”");
                }

            }
        } else {
            //æƒ³è·å¾—é•œå­çš„é”
            synchronized (mirror) {
                System.out.println(this.girlName + "è·å¾—é•œå­çš„é”");
                Thread.sleep(100);
                //ä¸€ç§’é’Ÿåæƒ³è·å¾—å£çº¢
                synchronized (lipstick) {
                    System.out.println(this.girlName + "è·å¾—å£çº¢çš„é”");

                }
            }
        }
    }
}
```

**äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼š**

1. **äº’æ–¥æ¡ä»¶**ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ã€‚
2. **è¯·æ±‚ä¸ä¿æŒæ¡ä»¶**ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚
3. **ä¸å‰¥å¤ºæ¡ä»¶**ï¼šè¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤ºã€‚
4. **å¾ªç¯ç­‰å¾…æ¡ä»¶**ï¼šè‹¥å¹²ä¸ªè¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚

> æˆ‘ä»¬åªéœ€è¦æƒ³åŠæ³•ç ´åå…¶ä¸­çš„ä»»æ„ä¸€ä¸ªæ¡ä»¶æˆ–è€…å¤šä¸ªæ¡ä»¶ï¼Œå°±å¯ä»¥é¿å…å‘ç”Ÿæ­»é”ã€‚

## 10.Lock(é”)

**ReentrantLock å¯é‡å…¥é”**

1. ä»JDK 5.0å¼€å§‹ï¼ŒJavaæä¾›äº†æ›´å¼ºå¤§çš„çº¿ç¨‹åŒæ­¥æœºåˆ¶â€”â€”é€šè¿‡**æ˜¾å¼å®šä¹‰åŒæ­¥é”å¯¹è±¡**æ¥å®ç°åŒæ­¥ã€‚**åŒæ­¥é”ä½¿ç”¨Lockå¯¹è±¡å……å½“**
2. java.util.concurrent.locks.Lockæ¥å£æ˜¯æ§åˆ¶å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºè¿›è¡Œè®¿é—®çš„å·¥å…·ã€‚é”æä¾›äº†å¯¹å…±äº«èµ„æºçš„ç‹¬å è®¿é—®ï¼Œ**æ¯æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹Lockå¯¹è±¡åŠ é”**ï¼Œ**çº¿ç¨‹å¼€å§‹è®¿é—®å…±äº«èµ„æºä¹‹å‰åº”å…ˆè·å¾—Lockå¯¹è±¡**ã€‚
3. `ReentrantLockç±»`å®ç°äº†Lockï¼Œå®ƒæ‹¥æœ‰ä¸ synchronized ç›¸åŒçš„å¹¶å‘æ€§å’Œå†…å­˜è¯­ä¹‰ï¼Œåœ¨å®ç°çº¿ç¨‹å®‰å…¨çš„æ§åˆ¶ä¸­ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ReentrantLockï¼Œå¯ä»¥**æ˜¾å¼åŠ é”ã€é‡Šæ”¾é”**ã€‚

**locké”æ¡ˆä¾‹:**

```java
/**
 * @Description TestLock
 * @Author vchicken
 * @Date 2022/8/31 20:53
 */
public class TestLock {
    public static void main(String[] args) {

        TestLock2 lock2 = new TestLock2();
        new Thread(lock2, "é—²è¨€").start();
        new Thread(lock2, "é¸¡å“¥").start();
        new Thread(lock2, "é»„ç‰›").start();

    }
}

class TestLock2 implements Runnable {

    int ticketNums = 10;

    //å®šä¹‰locké”
    private final ReentrantLock lock = new ReentrantLock();


    @Override
    public void run() {
        while (true) {
            try {
                lock.lock();//åŠ é”
                if (ticketNums > 0) {
                    try {
                        Thread.sleep(100);
                    } catch (Exception e) {
                        e.printStackTrace();
                    }
                    System.out.println(Thread.currentThread().getName() + " " + ticketNums--);

                } else {
                    break;
                }
            } catch (Exception e) {
                e.printStackTrace();
            } finally {
                lock.unlock();//è§£é”
            }
        }
    }
}
```

**Synchronized ä¸ Lock çš„å¯¹æ¯”**

1. Lockæ˜¯æ˜¾å¼é”ï¼ˆæ‰‹åŠ¨å¼€å¯å’Œå…³é—­é”ï¼Œåˆ«å¿˜è®°å…³é—­é”) synchronizedæ˜¯**éšå¼é”**ï¼Œ**å‡ºäº†ä½œç”¨åŸŸè‡ªåŠ¨é‡Šæ”¾**
2. Lockåªæœ‰**ä»£ç å—é”**,synchronizedæœ‰**ä»£ç å—é”**å’Œ**æ–¹æ³•é”**
3. ä½¿ç”¨Locké”ï¼ŒJVMå°†èŠ±è´¹è¾ƒå°‘çš„æ—¶é—´æ¥è°ƒåº¦çº¿ç¨‹ï¼Œæ€§èƒ½æ›´å¥½ã€‚å¹¶ä¸”å…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§(æä¾›æ›´å¤šçš„å­ç±»)
4. ä¼˜å…ˆä½¿ç”¨é¡ºåº:

Lock > åŒæ­¥ä»£ç å— ï¼ˆå·²ç»è¿›å…¥äº†æ–¹æ³•ä½“ï¼Œåˆ†é…ç›¸åº”èµ„æºï¼‰ > åŒæ­¥æ–¹æ³•ï¼ˆåœ¨æ–¹æ³•ä½“ä¹‹å¤–ï¼‰


## 11.çº¿ç¨‹åä½œ

**åº”ç”¨åœºæ™¯ï¼šç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é—®é¢˜**
1. å‡è®¾ä»“åº“ä¸­åªèƒ½å­˜æ”¾ä¸€ä»¶äº§å“ï¼Œç”Ÿäº§è€…å°†ç”Ÿäº§å‡ºæ¥çš„äº§å“æ”¾å…¥ä»“åº“ï¹æ¶ˆè´¹è€…å°†ä»“åº“ä¸­äº§å“å–èµ°æ¶ˆè´¹ã€‚

2. å¦‚æœä»“åº“ä¸­æ²¡æœ‰äº§å“ï¹åˆ™ç”Ÿäº§è€…å°†äº§å“æ”¾å…¥ä»“åº“ï¹å¦åˆ™åœæ­¢ç”Ÿäº§å¹¶ç­‰å¾…ï¼Œç›´åˆ°ä»“åº“ä¸­çš„äº§å“è¢«æ¶ˆè´¹è€…å–èµ°ä¸ºæ­¢ã€‚

3. å¦‚æœä»“åº“ä¸­æ”¾æœ‰äº§å“,åˆ™æ¶ˆè´¹è€…å¯ä»¥å°†äº§å“å–èµ°æ¶ˆè´¹ï¹å¦åˆ™åœæ­¢æ¶ˆè´¹å¹¶ç­‰å¾…ï¼Œç›´åˆ°ä»“åº“å†æ¬¡æ”¾å…¥äº§å“ä¸ºæ­¢ã€‚

  ![](https://img-blog.csdnimg.cn/b7cda02290d34aa8896c8c9db90d5891.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

â€ƒè¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å…±äº«åŒä¸€ä¸ªèµ„æºï¼Œå¹¶ä¸”ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œäº’ä¸ºæ¡ä»¶ã€‚
1. å¯¹äºç”Ÿäº§è€…ï¹æ²¡æœ‰ç”Ÿäº§äº§å“ä¹‹å‰ï¼Œè¦é€šçŸ¥æ¶ˆè´¹è€…ç­‰å¾…ï¹’è€Œç”Ÿäº§äº†äº§å“ä¹‹åï¹åˆéœ€è¦é©¬ä¸Šé€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹
2. å¯¹äºæ¶ˆè´¹è€…ï¹åœ¨æ¶ˆè´¹ä¹‹åï¹è¦é€šçŸ¥ç”Ÿäº§è€…å·²ç»ç»“æŸæ¶ˆè´¹ï¹éœ€è¦ç”Ÿäº§æ–°çš„äº§å“ä»¥ä¾›æ¶ˆè´¹.
3. åœ¨ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ä¸­,ä»…æœ‰synchronizedæ˜¯ä¸å¤Ÿçš„
- synchronizedå¯é˜»æ­¢å¹¶å‘æ›´æ–°åŒä¸€ä¸ªå…±äº«èµ„æºï¼Œå®ç°äº†åŒæ­¥
- synchronizedä¸èƒ½ç”¨æ¥å®ç°ä¸åŒçº¿ç¨‹ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’(é€šä¿¡)

Javaæä¾›äº†å‡ ä¸ªæ–¹æ³•è§£å†³çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡é—®é¢˜
![](https://img-blog.csdnimg.cn/3c55464a5df84effb96a425524fd9e7f.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)
**æ³¨æ„**ï¼šä¸Šå›¾ä¸­å‡æ˜¯**Objectç±»**æä¾›çš„æ–¹æ³•ï¼Œéƒ½åªèƒ½åœ¨**åŒæ­¥æ–¹æ³•**æˆ–è€…**åŒæ­¥ä»£ç å—**ä¸­ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ›å‡ºlllegalMonitorStateExceptionã€‚

**è§£å†³æ–¹å¼1ï¼š**
å¹¶å‘åä½œæ¨¡å‹â€œç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å¼â€â€”â€”>**ç®¡ç¨‹æ³•**
1. **ç”Ÿäº§è€…**:è´Ÿè´£ç”Ÿäº§æ•°æ®çš„æ¨¡å—(å¯èƒ½æ˜¯æ–¹æ³•,å¯¹è±¡,çº¿ç¨‹,è¿›ç¨‹);
2. **æ¶ˆè´¹è€…**âˆ¶è´Ÿè´£å¤„ç†æ•°æ®çš„æ¨¡å—(å¯èƒ½æ˜¯æ–¹æ³•,å¯¹è±¡,çº¿ç¨‹,è¿›ç¨‹);
3. **ç¼“å†²åŒº**:æ¶ˆè´¹è€…ä¸èƒ½ç›´æ¥ä½¿ç”¨ç”Ÿäº§è€…çš„æ•°æ®,ä»–ä»¬ä¹‹é—´æœ‰ä¸ªâ€œç¼“å†²åŒºâ€

**ç”Ÿäº§è€…å°†ç”Ÿäº§å¥½çš„æ•°æ®æ”¾å…¥ç¼“å†²åŒº,æ¶ˆè´¹è€…ä»ç¼“å†²åŒºæ‹¿å‡ºæ•°æ®**

**è§£å†³æ–¹å¼2ï¼š**
å¹¶å‘åä½œæ¨¡å‹â€œç”Ÿäº§è€…/æ¶ˆè´¹è€…æ¨¡å¼â€â€”â€”>**ä¿¡å·ç¯æ³•**

**æ¡ˆä¾‹1ï¼šç®¡ç¨‹æ³•**

```java
/**
 * @Description TestPC ç®¡ç¨‹æ³•
 * @Author vchicken
 * @Date 2022/8/31 21:16
 */
public class TestPC {
    public static void main(String[] args) {

        SynContainer container = new SynContainer();

        new Productor(container).start();
        new Consumer(container).start();

    }
}

//ç”Ÿäº§è€…
class Productor extends Thread {
    SynContainer container;

    public Productor(SynContainer container) {
        this.container = container;
    }

    //ç”Ÿäº§
    @Override
    public void run() {
        for (int i = 1; i <= 20; i++) {
            container.push(new Chiken(i));
            System.out.println("ç”Ÿäº§äº†" + i + "åªé¸¡");
        }
    }
}

//æ¶ˆè´¹è€…
class Consumer extends Thread {
    SynContainer container;

    public Consumer(SynContainer container) {
        this.container = container;
    }

    //ç”Ÿäº§
    @Override
    public void run() {
        for (int i = 1; i <= 20; i++) {
            Chiken pop = container.pop();
            System.out.println("æ¶ˆè´¹äº†ç¬¬" + pop.id + "åªé¸¡");
        }
    }
}

//äº§å“
class Chiken {
    int id;//ç¼–å·

    public Chiken(int id) {
        this.id = id;
    }
}

//ç¼“å†²åŒº
class SynContainer {

    //éœ€è¦ä¸€ä¸ªå®¹å™¨å¤§å°
    Chiken[] chikens = new Chiken[10];
    //å®¹å™¨è®¡æ•°å™¨
    int count = 0;

    //ç”Ÿäº§è€…æ”¾å…¥äº§å“
    public synchronized void push(Chiken chiken) {
        //å¦‚æœå®¹å™¨æ»¡äº†ï¼Œå°±éœ€è¦ç­‰å¾…æ¶ˆè´¹è€…æ¶ˆè´¹
        if (count == chikens.length) {
            //é€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œç”Ÿäº§è€…ç­‰å¾…
            try {
                this.wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        //å¦‚æœå®¹å™¨æ²¡æœ‰æ»¡ï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸¢å…¥äº§å“
        chikens[count] = chiken;
        count++;
        //é€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹
        this.notifyAll();
    }

    //é€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹
    public synchronized Chiken pop() {
        //åˆ¤æ–­èƒ½å¦æ¶ˆè´¹
        if (count == 0) {
            //ç­‰å¾…ç”Ÿäº§è€…ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…ç­‰å¾…
            try {
                this.wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        //å¦‚æœå¯ä»¥æ¶ˆè´¹
        count--;
        Chiken chiken = chikens[count];
        //åƒå®Œäº†ï¼Œé€šçŸ¥ç”Ÿäº§è€…ç”Ÿäº§
        this.notifyAll();
        return chiken;
    }
}
```

**æ¡ˆä¾‹2ï¼šä¿¡å·ç¯æ³•**

```java
/**
 * @Description TestPC2 ä¿¡å·ç¯æ³•
 * @Author vchicken
 * @Date 2022/8/31 21:25
 */
public class TestPC2 {

    public static void main(String[] args) {
        TV tv = new TV();
        new Player(tv).start();
        new Watcher(tv).start();
    }
}

/**
 * ç”Ÿäº§è€…ï¼šæ¼”å‘˜
 */
class Player extends Thread {
    TV tv;

    public Player(TV tv) {
        this.tv = tv;
    }

    @Override
    public void run() {
        for (int i = 0; i < 20; i++) {
            if (i % 2 == 0) {
                this.tv.play("å¿«ä¹å¤§æœ¬è¥æ’­æ”¾ä¸­");
            } else {
                this.tv.play("æŠ–éŸ³è®°å½•ç¾å¥½ç”Ÿæ´»");
            }
        }
    }
}

/**
 * æ¶ˆè´¹è€…ï¼šè§‚ä¼—
 */
class Watcher extends Thread {
    TV tv;

    public Watcher(TV tv) {
        this.tv = tv;
    }

    @Override
    public void run() {
        for (int i = 0; i < 20; i++) {

            tv.watch();
        }
    }
}

/**
 * äº§å“ï¼šèŠ‚ç›®
 */
class TV {

    /**
     * è¡¨æ¼”çš„èŠ‚ç›®
     */
    String voice;

    boolean flag = true;

    public synchronized void play(String voice) {
        if (!flag) {
            try {
                this.wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        System.out.println("æ¼”å‘˜è¡¨æ¼”äº†:" + voice);
        //é€šçŸ¥è§‚ä¼—è§‚çœ‹
        this.notifyAll();
        this.voice = voice;
        this.flag = !this.flag;
    }

    public synchronized void watch() {
        if (flag) {
            try {
                this.wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }

        System.out.println("è§‚çœ‹äº†ï¼š" + voice);
        //é€šçŸ¥æ¼”å‘˜è¡¨æ¼”
        this.notifyAll();
        this.flag = !this.flag;
    }

}
```

## 12.çº¿ç¨‹æ± 

**èƒŒæ™¯**:ç»å¸¸åˆ›å»ºå’Œé”€æ¯ã€ä½¿ç”¨é‡ç‰¹åˆ«å¤§çš„èµ„æºï¼Œæ¯”å¦‚å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹ï¼Œå¯¹æ€§èƒ½å½±å“å¾ˆå¤§ã€‚

**æ€è·¯**ï¸°æå‰åˆ›å»ºå¥½å¤šä¸ªçº¿ç¨‹ï¼Œæ”¾å…¥çº¿ç¨‹æ± ä¸­ï¼Œä½¿ç”¨æ—¶ç›´æ¥è·å–ï¼Œä½¿ç”¨å®Œæ”¾å›æ± ä¸­ã€‚å¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºé”€æ¯ã€å®ç°é‡å¤åˆ©ç”¨ã€‚ç±»ä¼¼ç”Ÿæ´»ä¸­çš„å…¬å…±äº¤é€šå·¥å…·ã€‚

**å¥½å¤„:**
1. æé«˜å“åº”é€Ÿåº¦ï¼ˆå‡å°‘äº†åˆ›å»ºæ–°çº¿ç¨‹çš„æ—¶é—´)
2. é™ä½èµ„æºæ¶ˆè€—ï¼ˆé‡å¤åˆ©ç”¨çº¿ç¨‹æ± ä¸­çº¿ç¨‹ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½åˆ›å»º)
3. ä¾¿äºçº¿ç¨‹ç®¡ç†(â€¦)

    - corePoolSize:æ ¸å¿ƒæ± çš„å¤§å°
    - maximumPoolSize:æœ€å¤§çº¿ç¨‹æ•°
    - keepAliveTime:çº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šé•¿æ—¶é—´åä¼šç»ˆæ­¢

**JDK 5.0èµ·æä¾›äº†çº¿ç¨‹æ± ç›¸å…³API:**

â€ƒâ€ƒ`ExecutorService`å’Œ`Executors`

- ExecutorService:çœŸæ­£çš„çº¿ç¨‹æ± æ¥å£ã€‚
    - å¸¸è§å­ç±»ThreadPoolExecutor
    - void execute(Runnable cgmmand):æ‰§è¡Œä»»åŠ¡/å‘½ä»¤ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§è¡ŒRunnable
    - Future submit(Callable task):æ‰§è¡Œä»»åŠ¡ï¼Œæœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬åˆæ¥æ‰§è¡ŒCallable
    - void shutdown():å…³é—­è¿æ¥æ± 
- Executors:
    - å·¥å…·ç±»ã€çº¿ç¨‹æ± çš„å·¥å‚ç±»ï¼Œç”¨äºåˆ›å»ºå¹¶è¿”å›ä¸åŒç±»å‹çš„çº¿ç¨‹æ± 

```java
/**
 * @Description TestPool
 * @Author vchicken
 * @Date 2022/8/31 21:51
 */
public class TestPool {
    public static void main(String[] args) {

        //1.åˆ›å»ºæœåŠ¡ï¼Œåˆ›å»ºçº¿ç¨‹æ± 
        ExecutorService service = Executors.newFixedThreadPool(10);

        //æ‰§è¡Œ
        service.execute(new MyThread());
        service.execute(new MyThread());
        service.execute(new MyThread());
        service.execute(new MyThread());

        //2.å…³é—­è¿æ¥
        service.shutdown();

    }
}

class MyThread implements Runnable {


    @Override
    public void run() {
        System.out.println(Thread.currentThread().getName());
    }
}
```

