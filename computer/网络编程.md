# ğŸ¤º ç½‘ç»œåŸºç¡€ - ç½‘ç»œç¼–ç¨‹

---

### 1.è®¡ç®—æœºç½‘ç»œæ¦‚å¿µ

â€ƒâ€ƒ`è®¡ç®—æœºç½‘ç»œ`æ˜¯æŒ‡å°†**åœ°ç†ä½ç½®ä¸åŒ**çš„å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„**å¤šå°è®¡ç®—æœºåŠå…¶å¤–éƒ¨è®¾å¤‡**ï¼Œé€šè¿‡**é€šä¿¡çº¿è·¯è¿æ¥ï¼ˆæœ‰çº¿æ€§ã€æ— çº¿ï¼‰**èµ·æ¥ï¼Œåœ¨ç½‘ç»œæ“ä½œç³»ç»Ÿï¼Œç½‘ç»œç®¡ç†è½¯ä»¶åŠ**ç½‘ç»œé€šä¿¡åè®®**çš„ç®¡ç†å’Œåè°ƒä¸‹ï¼Œå®ç°**èµ„æºå…±äº«å’Œä¿¡æ¯ä¼ é€’**çš„è®¡ç®—æœºç³»ç»Ÿã€‚

**ç½‘ç»œç¼–ç¨‹çš„ç›®çš„**
  - ä¼ æ’­äº¤æµä¿¡æ¯
  - æ•°æ®äº¤æ¢ã€é€šä¿¡ã€‚

**æƒ³è¦è¾¾åˆ°è¿™ä¸ªæ•ˆæœï¼Œéœ€è¦ä»€ä¹ˆ**

1. å¦‚ä½•å‡†ç¡®çš„å®šä½ç½‘ç»œä¸Šçš„ä¸€å°ä¸»æœº 192.168.1.100ï¼š ç«¯å£ï¼Œå®šä½åˆ°è¿™ä¸ªè®¡ç®—æœºä¸Šçš„æŸä¸ªèµ„æºã€‚
2. æ‰¾åˆ°äº†è¿™ä¸ªä¸»æœºï¼Œå¦‚ä½•ä¼ è¾“æ•°æ®å‘¢ï¼Ÿ

**JavaWeb** ï¼š ç½‘é¡µç¼–ç¨‹ B/Sæ¶æ„

**ç½‘ç»œç¼–ç¨‹**ï¼š TCP/IP C/Sæ¶æ„



### 2.ç½‘ç»œé€šä¿¡è¦ç´ 
â€ƒâ€ƒå¦‚ä½•å®ç°ç½‘ç»œçš„é€šä¿¡ï¼Ÿ

â€ƒâ€ƒé€šä¿¡åŒæ–¹çš„åœ°å€ï¼š

â€ƒâ€ƒâ€ƒâ€ƒIPã€ç«¯å£å·ã€‚

â€ƒâ€ƒâ€ƒâ€ƒ192.168.1.100:8080



**TCP/IPå‚è€ƒæ¨¡å‹**

![](https://img-blog.csdnimg.cn/20190105164025264.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQxOTIzNjIy,size_16,color_FFFFFF,t_70)



**OSIå„å±‚åŠŸèƒ½ç®€ä»‹ï¼š**

- **ç‰©ç†å±‚:** å°†æ•°æ®è½¬æ¢ä¸ºå¯é€šè¿‡ç‰©ç†ä»‹è´¨ä¼ é€çš„ç”µå­ä¿¡å· ç›¸å½“äºé‚®å±€ä¸­çš„æ¬è¿å·¥äºº
- **æ•°æ®é“¾è·¯å±‚:** å†³å®šè®¿é—®ç½‘ç»œä»‹è´¨çš„æ–¹å¼ï¼Œåœ¨æ­¤å±‚å°†æ•°æ®åˆ†å¸§ï¼Œå¹¶å¤„ç†æµæ§åˆ¶ã€‚æœ¬å±‚ æŒ‡å®šæ‹“æ‰‘ç»“æ„å¹¶æä¾›ç¡¬ä»¶å¯» å€ã€‚ç›¸å½“äºé‚®å±€ä¸­çš„è£…æ‹†ç®±å·¥äºº
- **ç½‘ç»œå±‚:** ä½¿ç”¨æƒæ•°æ®è·¯ç”±ç»è¿‡å¤§å‹ç½‘ç»œ ç›¸å½“äºé‚®å±€ä¸­çš„æ’åºå·¥äºº
- **ä¼ è¾“å±‚:** æä¾›ç»ˆç«¯åˆ°ç»ˆç«¯çš„å¯é è¿æ¥ ç›¸å½“äºå…¬å¸ä¸­è·‘é‚®å±€çš„é€ä¿¡èŒå‘˜
- **ä¼šè¯å±‚:** å…è®¸ç”¨æˆ·ä½¿ç”¨ç®€å•æ˜“è®°çš„åç§°å»ºç«‹è¿æ¥ ç›¸å½“äºå…¬å¸ä¸­æ”¶å¯„ä¿¡ã€å†™ä¿¡å°ä¸æ‹†ä¿¡å°çš„ç§˜ä¹¦
- **è¡¨ç¤ºå±‚:** åå•†æ•°æ®äº¤æ¢æ ¼å¼ ç›¸å½“å…¬å¸ä¸­ç®€æŠ¥è€æ¿ã€æ›¿è€æ¿å†™ä¿¡çš„åŠ©ç†
- **åº”ç”¨å±‚:** ç”¨æˆ·çš„åº”ç”¨ç¨‹åºå’Œç½‘ç»œä¹‹é—´çš„æ¥å£è€æ¿

**åˆ†å±‚åè®®ï¼š**

**1ã€åº”ç”¨å±‚åè®®**

**åº”ç”¨å±‚åè®®å·¥ä½œåœ¨OSIæ¨¡å‹çš„ä¸Šå±‚ï¼Œæä¾›åº”ç”¨ç¨‹åºé—´çš„äº¤æ¢å’Œæ•°æ®äº¤æ¢ã€‚**
æ¯”è¾ƒå¸¸ç”¨çš„åº”ç”¨å±‚åè®®æœ‰ï¼šSMTP ã€BOOTPã€FTP ã€HTTPã€AFP ã€SNMP ã€SMB ã€TFTPã€NCP ã€NFS ã€telnetã€dns

**2ã€ä¼ è¾“å±‚åè®®**

**ä¼ è¾“å±‚åè®®æä¾›è®¡ç®—æœºä¹‹é—´çš„é€šä¿¡ä¼šè¯ï¼Œå¹¶ç¡®ä¿æ•°æ®åœ¨è®¡ç®—æœºä¹‹é—´å¯é åœ°ä¼ è¾“ã€‚**
ä¸»è¦çš„ä¼ è¾“å±‚åè®®æœ‰ï¼šTCPã€SPXã€NWL INKã€ATPã€NBPã€NetBEUIã€udp

**3ã€ç½‘ç»œå±‚åè®®**

**ç½‘ç»œå±‚åè®®æä¾›æ‰€è°“çš„é“¾è·¯æœåŠ¡ï¼Œè¿™äº›åè®®å¯ä»¥å¤„ç†å¯»å€å’Œè·¯ç”±ä¿¡æ¯ã€é”™è¯¯æ£€æµ‹å’Œé‡ä¼ è¯·æ±‚ã€‚**
ç½‘ç»œå±‚åè®®åŒ…æ‹¬ï¼šIP ã€IPX/SPXã€DDP ã€NetBEUIã€Xï¼25ã€Ethernetã€arpã€rarpã€icmp

**å„å±‚çš„åŠŸèƒ½åè®®ï¼š**

**1ï¼Œç‰©ç†å±‚**

ç‰©ç†å±‚è§„å®šäº†æ¿€æ´»ã€ç»´æŒã€å…³é—­é€šä¿¡ç«¯ç‚¹ä¹‹é—´çš„æœºæ¢°ç‰¹æ€§ã€ç”µæ°”ç‰¹æ€§ã€åŠŸèƒ½ç‰¹æ€§ä»¥åŠè¿‡ç¨‹ç‰¹æ€§ã€‚è¯¥å±‚ä¸ºä¸Šå±‚åè®®æä¾›äº†ä¸€ä¸ªä¼ è¾“æ•°æ®çš„ç‰©ç†åª’ä½“ã€‚
åœ¨è¿™ä¸€å±‚ï¼Œæ•°æ®çš„å•ä½ç§°ä¸ºæ¯”ç‰¹ï¼ˆbitï¼‰ã€‚
å±äºç‰©ç†å±‚å®šä¹‰åŒ…æ‹¬ï¼šEIA/TIA RS-232ã€EIA/TIA RS-449ã€V.35ã€RJ-45ç­‰ã€‚

**2ï¼Œæ•°æ®é“¾è·¯å±‚**

æ•°æ®é“¾è·¯å±‚åœ¨ä¸å¯é çš„ç‰©ç†ä»‹è´¨ä¸Šæä¾›å¯é çš„ä¼ è¾“ã€‚è¯¥å±‚çš„ä½œç”¨åŒ…æ‹¬ï¼šç‰©ç†åœ°å€å¯»å€ã€æ•°æ®çš„æˆå¸§ã€æµé‡æ§åˆ¶ã€æ•°æ®çš„æ£€é”™ã€é‡å‘ç­‰ã€‚
åœ¨è¿™ä¸€å±‚ï¼Œæ•°æ®çš„å•ä½ç§°ä¸ºå¸§ï¼ˆframeï¼‰ã€‚
æ•°æ®é“¾è·¯å±‚åè®®åŒ…æ‹¬ï¼šSDLCã€HDLCã€PPPã€STPã€å¸§ä¸­ç»§ç­‰ã€‚

**3ï¼Œç½‘ç»œå±‚**

ç½‘ç»œå±‚è´Ÿè´£å¯¹å­ç½‘é—´çš„æ•°æ®åŒ…è¿›è¡Œè·¯ç”±é€‰æ‹©ã€‚ç½‘ç»œå±‚è¿˜å¯ä»¥å®ç°æ‹¥å¡æ§åˆ¶ã€ç½‘é™…äº’è¿ç­‰åŠŸèƒ½ã€‚
åœ¨è¿™ä¸€å±‚ï¼Œæ•°æ®çš„å•ä½ç§°ä¸ºæ•°æ®åŒ…ï¼ˆpacketï¼‰ã€‚
ç½‘ç»œå±‚åè®®åŒ…æ‹¬ï¼šIPã€IPXã€RIPã€OSPFã€ARPã€RARPã€ICMPã€IGMPç­‰ã€‚

**4ï¼Œä¼ è¾“å±‚**

ä¼ è¾“å±‚æ˜¯ç¬¬ä¸€ä¸ªç«¯åˆ°ç«¯ï¼Œå³ä¸»æœºåˆ°ä¸»æœºçš„å±‚æ¬¡ã€‚ä¼ è¾“å±‚è´Ÿè´£å°†ä¸Šå±‚æ•°æ®åˆ†æ®µå¹¶æä¾›ç«¯åˆ°ç«¯çš„ã€å¯é çš„æˆ–ä¸å¯é çš„ä¼ è¾“ã€‚æ­¤å¤–ï¼Œä¼ è¾“å±‚è¿˜è¦å¤„ç†ç«¯åˆ°ç«¯çš„å·®é”™æ§åˆ¶å’Œæµé‡æ§åˆ¶é—®é¢˜ã€‚
åœ¨è¿™ä¸€å±‚ï¼Œæ•°æ®çš„å•ä½ç§°ä¸ºæ•°æ®æ®µï¼ˆsegmentï¼‰ã€‚
ä¼ è¾“å±‚åè®®çš„åŒ…æ‹¬ï¼šTCPã€UDPã€SPXç­‰ã€‚

**5ï¼Œä¼šè¯å±‚**

ä¼šè¯å±‚ç®¡ç†ä¸»æœºä¹‹é—´çš„ä¼šè¯è¿›ç¨‹ï¼Œå³è´Ÿè´£å»ºç«‹ã€ç®¡ç†ã€ç»ˆæ­¢è¿›ç¨‹ä¹‹é—´çš„ä¼šè¯ã€‚ä¼šè¯å±‚è¿˜åˆ©ç”¨åœ¨æ•°æ®ä¸­æ’å…¥æ ¡éªŒç‚¹æ¥å®ç°æ•°æ®çš„åŒæ­¥ã€‚

**6ï¼Œè¡¨ç¤ºå±‚**

è¡¨ç¤ºå±‚å¯¹ä¸Šå±‚æ•°æ®æˆ–ä¿¡æ¯è¿›è¡Œå˜æ¢ä»¥ä¿è¯ä¸€ä¸ªä¸»æœºåº”ç”¨å±‚ä¿¡æ¯å¯ä»¥è¢«å¦ä¸€ä¸ªä¸»æœºçš„åº”ç”¨ç¨‹åºç†è§£ã€‚è¡¨ç¤ºå±‚çš„æ•°æ®è½¬æ¢åŒ…æ‹¬æ•°æ®çš„åŠ å¯†ã€å‹ç¼©ã€æ ¼å¼è½¬æ¢ç­‰ã€‚

**7ï¼Œåº”ç”¨å±‚**

åº”ç”¨å±‚æ˜¯OSIå‚è€ƒæ¨¡å‹çš„æœ€é«˜å±‚ï¼Œæ˜¯ç”¨æˆ·ä¸ç½‘ç»œçš„æ¥å£ã€‚è¯¥å±‚é€šè¿‡åº”ç”¨ç¨‹åºæ¥å®Œæˆç½‘ç»œç”¨æˆ·çš„åº”ç”¨éœ€æ±‚ï¼Œå¦‚æ–‡ä»¶ä¼ è¾“ã€æ”¶å‘ç”µå­é‚®ä»¶ç­‰ã€‚
TCPä¸UDPç”¨ä¸€ä¸ªç«¯å£å‘é€ä¿¡æ¯æ˜¯å¦å†²çª
ä¸å†²çªï¼ŒTCPï¼ŒUDPå¯ä»¥ç»‘å®šåŒä¸€ä¸ªç«¯å£æ¥è¿›è¡Œé€šä¿¡ï¼Œè®¸å¤šåè®®å·²ç»è¿™æ ·åšï¼Œudp/53å’Œtcp/53ï¼Œå› ä¸ºæ•°æ®æ¥å—æ—¶æ ¹æ®äº”å…ƒç»„ï¼ˆä¼ è¾“åè®®ï¼Œæºipï¼Œç›®çš„ipï¼Œæºç«¯å£ï¼Œç›®çš„ç«¯å£ï¼‰åˆ¤æ–­æ¥å—è€…çš„ã€‚

**å°ç»“ï¼š**

â€ƒâ€ƒ1. ç½‘ç»œç¼–ç¨‹ä¸­ä¸¤ä¸ªä¸»è¦é—®é¢˜


â€ƒâ€ƒ
â€ƒâ€ƒ- å¦‚ä½•å‡†ç¡®å®šä½åˆ°ç½‘ç»œä¸Šçš„ä¸€å°æˆ–å¤šå°ä¸»æœº


â€ƒâ€ƒ
â€ƒâ€ƒ- æ‰¾åˆ°ä¸»æœºä¹‹åå¦‚ä½•è¿›è¡Œé€šä¿¡

â€ƒâ€ƒ2. ç½‘ç»œç¼–ç¨‹ä¸­çš„è¦ç´ 


â€ƒâ€ƒ
â€ƒâ€ƒ- IP å’Œ ç«¯å£å·


â€ƒâ€ƒ
â€ƒâ€ƒ- ç½‘ç»œé€šä¿¡åè®®


â€ƒâ€ƒ
  3. Java ä¸‡ç‰©çš†å¯¹è±¡



### 3.IP
**ipåœ°å€**ï¼šInetAddress

1. å”¯ä¸€å®šä½ä¸€å°ç½‘ç»œä¸Šè®¡ç®—æœº
2. 127.0.0.1ï¼š æœ¬æœºlocalhost
3. ipåœ°å€çš„åˆ†ç±»
   - V4/IPv6
     - V4 127.0.0.1 4ä¸ªå­—èŠ‚ç»„æˆï¼Œ0-255 42äº¿ä¸ª 30äº¿éƒ½åœ¨åŒ—ç¾ï¼Œäºšæ´²4äº¿ã€‚2011å¹´å°±ç”¨å°½
     - IPV6 ï¼›128ä½ã€‚8ä¸ªæ— ç¬¦å·æ•´æ•°ï¼
     - å…¬ç½‘-ç§ç½‘

**æµ‹è¯•ä»£ç ï¼š**

```java
package com.vchicken.internet;

import java.net.InetAddress;
import java.net.UnknownHostException;

/**
 * @Description TestInetAddress
 * @Author vchicken
 * @Date 2022/8/22 20:05
 */
public class TestInetAddress {

    public static void main(String[] args) throws UnknownHostException {
        //æŸ¥è¯¢æœ¬æœºçš„ipåœ°å€
        InetAddress localhost = InetAddress.getByName("localhost");
        System.out.println(localhost);

        InetAddress localHost = InetAddress.getLocalHost();
        System.out.println(localHost);
        System.out.println("=================");
        //æŸ¥è¯¢ç½‘ç«™ipåœ°å€
        InetAddress name = InetAddress.getByName("www.baidu.com");
        System.out.println(name);
        System.out.println("=================");
        //å¸¸ç”¨æ–¹æ³•
        //System.out.println(name.getAddress());
        System.out.println(name.getHostAddress());//è·å–ä¸»æœºipåœ°å€
        System.out.println(name.getHostName());// è·å–åŸŸå
        System.out.println(name.getCanonicalHostName());//è·å–è§„èŒƒçš„ä¸»æœºipåœ°å€
    }
}

```

### 4.ç«¯å£
`ç«¯å£`è¡¨ç¤ºè®¡ç®—æœºä¸Šçš„ä¸€ä¸ªç¨‹åºçš„è¿›ç¨‹ã€‚

1. ä¸€æ ‹æ¥¼è¡¨ç¤ºä¸€ä¸ªip ï¼Œè¿™æ ‹æ¥¼é‡Œé¢çš„ é—¨ç‰Œå· å°±æ˜¯ç«¯å£å·ã€‚
2. ä¸åŒçš„è¿›ç¨‹æœ‰ä¸åŒçš„ç«¯å£å·ï¼ç”¨æ¥åŒºåˆ†è½¯ä»¶çš„ã€‚
3. ç«¯å£è¢«è§„å®šä¸ºï¼š0-65535
4. TCP ï¼ŒUDPï¼š æ¯ä¸ªéƒ½æœ‰ 0-65535 * 2 ï¼Œå•ä¸ªåè®®ä¸‹ï¼Œç«¯å£å·ä¸èƒ½å†²çªã€‚
5. ç«¯å£åˆ†ç±»
   - å…±æœ‰ç«¯å£0-1023
     - HTTP ï¼š 80
     - HTTPS ï¼š443
     - FTP ï¼š 21
     - Telet ï¼š 23
     - ç¨‹åºæ³¨å†Œç«¯å£ï¼š1024-49151ï¼Œåˆ†é…ç»™ç”¨æˆ·æˆ–è€…ç¨‹åº
     - Tomcatï¼š8080
     - Mysqlï¼š3306
     - Oracleï¼š1521
     - åŠ¨æ€ã€ç§æœ‰ï¼š49152-65535

```java
netstat -ano #æŸ¥çœ‹æ‰€æœ‰ç«¯å£
netstat -ano  | findstr "5900" #æŸ¥çœ‹æŒ‡å®šçš„ç«¯å£
tasklist | findstr "8696" #æŸ¥çœ‹æŒ‡å®šç«¯å£çš„è¿›ç¨‹
Ctrl + Shift + ESC
```
æµ‹è¯•ä»£ç ï¼š
```java
package com.vchicken.internet;

import java.net.InetSocketAddress;

/**
 * @Description TesyInetSocketAddress
 * @Author vchicken
 * @Date 2022/8/22 20:13
 */
public class TesyInetSocketAddress {

    public static void main(String[] args) {

        InetSocketAddress socketAddress = new InetSocketAddress("127.0.0.1", 8080);
        InetSocketAddress socketAddress1 = new InetSocketAddress("localhost", 8080);

        System.out.println(socketAddress);
        System.out.println(socketAddress1);
        System.out.println("====================");

        System.out.println(socketAddress.getAddress());//ipåœ°å€
        System.out.println(socketAddress.getHostName());//ä¸»æœºåç§°
        System.out.println(socketAddress.getHostString());
        System.out.println(socketAddress.getPort());//ç«¯å£

    }
}

```


### 5.é€šä¿¡åè®®
**åè®®**ï¼šçº¦å®šï¼Œå°±å¥½æ¯”æˆ‘ä»¬ç°åœ¨è¯´çš„æ˜¯æ™®é€šè¯ã€‚

**ç½‘ç»œé€šä¿¡åè®®**ï¼š

- é€Ÿç‡
- ä¼ è¾“ç ç‡
- ä»£ç ç»“æ„
- ä¼ è¾“æ§åˆ¶

é—®é¢˜ï¼šéå¸¸çš„å¤æ‚

**TCP/IPåè®®ç°‡**ï¼šå®é™…ä¸Šæ˜¯ä¸€ç»„åè®®

**é‡è¦ï¼š**

- TCPï¼šç”¨æˆ·ä¼ è¾“åè®®
- UDPï¼šç”¨æˆ·æ•°æ®æŠ¥åè®®

**å‡ºåçš„åè®®ï¼š**

- TCP
- IP

**TCPå’ŒUDP å¯¹æ¯”ï¼š**

- **TCP**ï¼šæ‰“ç”µè¯

  - è¿æ¥ï¼š **ç¨³å®š**

  - ```html
    ä¸‰æ¬¡æ¡æ‰‹
    â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒAï¼šä½ æ„å•¥ï¼Ÿ
    â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒBï¼šç…ä½ å’‹åœ°ï¼Ÿ
    â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒAï¼šå¹²ä¸€æ¬¡ï¼
    
    å››æ¬¡æŒ¥æ‰‹
    
    â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒAï¼šæˆ‘è¦æ–­å¼€äº† ï¼ˆæˆ‘è¦èµ°äº†ï¼‰
    â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒBï¼šæˆ‘çŸ¥é“ä½ è¦æ–­å¼€äº†ï¼ˆä½ çœŸçš„è¦èµ°äº†å—ï¼Ÿï¼‰
    â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒBï¼šä½ çœŸçš„æ–­å¼€äº†å—ï¼Ÿï¼ˆä½ çœŸçš„çœŸçš„è¦èµ°äº†å—ï¼Ÿï¼‰
    â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒAï¼šæˆ‘çœŸçš„æ–­å¼€äº† ï¼ˆæˆ‘çœŸçš„è¦èµ°äº†ï¼‰â€ƒâ€ƒâ€ƒ
    ```

  - å®¢æˆ·ç«¯ï¼ŒæœåŠ¡ç«¯
  - ä¼ è¾“å®Œæˆï¼Œé‡Šæ”¾è¿æ¥ã€æ•ˆç‡ä½

![](https://img-blog.csdnimg.cn/1637d3ca26d646fb8e06b9e1e5d065db.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)


â€ƒâ€ƒç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€synåŒ…ï¼ˆsyn=jï¼‰åˆ°æœåŠ¡å™¨ï¼Œå¹¶è¿›å…¥SYN_SENTçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼›SYNï¼šåŒæ­¥åºåˆ—ç¼–å·ï¼ˆSynchronize Sequence Numbersï¼‰ã€‚

â€ƒâ€ƒç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°synåŒ…ï¼Œå¿…é¡»ç¡®è®¤å®¢æˆ·çš„SYNï¼ˆack=j+1ï¼‰ï¼ŒåŒæ—¶è‡ªå·±ä¹Ÿå‘é€ä¸€ä¸ªSYNåŒ…ï¼ˆsyn=kï¼‰ï¼Œå³SYN+ACKåŒ…ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼›

â€ƒâ€ƒç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKåŒ…ï¼Œå‘æœåŠ¡å™¨å‘é€ç¡®è®¤åŒ…ACK(ack=k+1ï¼‰ï¼Œæ­¤åŒ…å‘é€å®Œæ¯•ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›å…¥ESTABLISHEDï¼ˆTCPè¿æ¥æˆåŠŸï¼‰çŠ¶æ€ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚

![](https://img-blog.csdnimg.cn/a131044be05743418c6bb648b65021f6.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyMDI1Nzk4,size_16,color_FFFFFF,t_70#pic_center)

- UDPï¼šå‘çŸ­ä¿¡

  1. ä¸è¿æ¥ï¼Œä¸ç¨³å®š
  2. å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯ï¼šæ²¡æœ‰æ˜ç¡®çš„ç•Œé™
  3. ä¸ç®¡æœ‰æ²¡æœ‰å‡†å¤‡å¥½ï¼Œéƒ½å¯ä»¥å‘ç»™ä½ â€¦
  4. å¯¼å¼¹
  5. DDOSï¼šæ´ªæ°´æ”»å‡»ï¼ï¼ˆé¥±å’Œæ”»å‡»ï¼‰

  - å®¢æˆ·ç«¯
    1. å»ºç«‹è¿æ¥
    2. å‘é€æ¶ˆæ¯

```java
package com.vchicken.internet;

import java.io.*;
import java.net.InetAddress;
import java.net.Socket;

/**
 * @Description TcpServerDemo2 å®¢æˆ·ç«¯
 * @Author vchicken
 * @Date 2022/8/22 20:37
 */
public class TcpClientDemo1 {

    public static void main(String[] args) throws Exception {
        Socket socket = null;
        OutputStream os = null;
        //è¦çŸ¥é“æœåŠ¡å™¨åœ°å€
        try {
            InetAddress serverIp = InetAddress.getByName("localhost");
            int port = 9999;
            //2.åˆ›å»ºè¿æ¥
            socket = new Socket(serverIp, port);
            //3.å‘ç”Ÿæ¶ˆæ¯ IOæµ
            os = socket.getOutputStream();
            os.write("ä½ å¥½ï¼Œvchicken".getBytes());
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if (os != null) {
                os.close();
            }
            if (socket != null) {
                socket.close();
            }

        }
    }
}


```

- æœåŠ¡å™¨
  1. å»ºç«‹æœåŠ¡è¿æ¥çš„ç«¯å£ ServerSocket
  2. ç­‰å¾…ç”¨æˆ·çš„è¿æ¥ accept
  3. æ¥æ”¶ç”¨æˆ·ä¿¡æ¯

```java
package com.vchicken.internet;

import java.io.ByteArrayOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.net.ServerSocket;
import java.net.Socket;

/**
 * @Description TcpServerDemo01 æœåŠ¡ç«¯
 * @Author vchicken
 * @Date 2022/8/22 20:34
 */
public class TcpServerDemo01 {

    public static void main(String[] args) throws Exception {
        ServerSocket serverSocket = null;
        Socket accept = null;
        InputStream is = null;
        ByteArrayOutputStream baos = null;
        try {
            //1. æˆ‘å¾—æœ‰ä¸€ä¸ªåœ°å€
            serverSocket = new ServerSocket(9999);
            //2.ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥è¿‡æ¥
            accept = serverSocket.accept();
            //3.è¯»å–å®¢æˆ·ç«¯æ¶ˆæ¯
            is = accept.getInputStream();

        /*byte[] buf = new byte[1024];
        int len;
        while ((len = is.read(buf)) != -1 ){
            String s = new String(buf, 0, len);
            System.out.println(s);
        }*/

            //ç®¡é“æµ
            baos = new ByteArrayOutputStream();
            byte[] buff = new byte[1024];
            int len = -1;

            while ((len = is.read(buff)) != -1) {
                baos.write(buff, 0, len);
            }
            System.out.println(baos.toString());

        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if (baos != null) {
                baos.close();
            }
            if (is != null) {
                is.close();
            }
            if (accept != null) {
                accept.close();
            }
            if (serverSocket != null) {
                serverSocket.close();
            }
        }
    }
}

```
### 6.TCPå®ç°æ–‡ä»¶ä¸Šä¼ 

å®¢æˆ·ç«¯ï¼š
```java
package com.vchicken.internet;

import java.io.*;
import java.net.InetAddress;
import java.net.Socket;

/**
 * @Description TcpClientDemo2 å®¢æˆ·ç«¯
 * @Author vchicken
 * @Date 2022/8/22 20:53
 */
public class TcpClientDemo2 {

    public static void main(String[] args) throws Exception {
        //1.å»ºç«‹è¿æ¥
        Socket socket = new Socket(InetAddress.getByName("127.0.0.1"), 9999);
        //2.åˆ›å»ºä¸€ä¸ªè¾“å‡ºæµ
        OutputStream os = socket.getOutputStream();
        //3.è¯»å–æ–‡ä»¶
        FileInputStream is = new FileInputStream(new File("JDK.png"));
        byte[] buff = new byte[1024];
        int len;
        //4.å†™å‡ºæ–‡ä»¶
        while ((len = is.read(buff)) != -1) {
            os.write(buff, 0, len);
        }

        //é€šçŸ¥æœåŠ¡å™¨ï¼Œæˆ‘å·²ç»ç»“æŸäº†
        socket.shutdownOutput();//æˆ‘å·²ç»ä¼ è¾“å®Œäº†çš„æ„æ€

        //ç¡®å®šæœåŠ¡å™¨æ¥æ”¶å®Œæ¯•ï¼Œæ‰èƒ½å¤Ÿæ–­å¼€è¿æ¥
        InputStream inputStream = socket.getInputStream();//æ¥æ”¶å­—ç¬¦ã€å°±ç”¨å­—èŠ‚çš„ç®¡é“æµ
        ByteArrayOutputStream bos = new ByteArrayOutputStream();
        byte[] buff2 = new byte[1024];
        int len2;
        while ((len2 = inputStream.read(buff)) != -1) {
            bos.write(buff2, 0, len2);
        }
        System.out.println(bos.toString());


        //5.é‡Šæ”¾èµ„æº
        bos.close();
        inputStream.close();
        is.close();
        os.close();
        socket.close();

    }

}

```

æœåŠ¡ç«¯ï¼š
```java
package com.vchicken.internet;

import java.io.File;
import java.io.FileOutputStream;
import java.io.InputStream;
import java.io.OutputStream;
import java.net.ServerSocket;
import java.net.Socket;

/**
 * @Description TcpServerDemo2 æœåŠ¡ç«¯
 * @Author vchicken
 * @Date 2022/8/22 20:51
 */
public class TcpServerDemo2 {

    public static void main(String[] args)  throws Exception{
        //1.åˆ›å»ºæœåŠ¡
        ServerSocket serverSocket = new ServerSocket(9999);
        //2.ç›‘å¬å®¢æˆ·ç«¯è¿æ¥
        Socket accept = serverSocket.accept();
        //3.è·å–è¾“å…¥æµ
        InputStream is = accept.getInputStream();

        //4.æ–‡ä»¶è¾“å‡º
        FileOutputStream fos = new FileOutputStream(new File("receive.jpg"));//æ¥æ”¶æ–‡ä»¶å°±è¦ç”¨æ–‡ä»¶çš„ç®¡é“æµ
        byte[] buff = new byte[1024];
        int len;
        while ((len = is.read(buff)) != -1){
            fos.write(buff,0,len);
        }


        //é€šè¿‡å®¢æˆ·ç«¯æˆ‘æ¥æ”¶å®Œæ¯•äº†
        OutputStream os = accept.getOutputStream();
        os.write("æˆ‘æ¥æ”¶å®Œæ¯•äº†ï¼Œä½ å¯ä»¥æ–­å¼€äº†".getBytes());

        fos.close();
        is.close();
        accept.close();
        serverSocket.close();

    }
}

```

### 7.UDPæ¶ˆæ¯å‘é€
å®¢æˆ·ç«¯ï¼š
```java
package com.vchicken.internet;

import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetAddress;

/**
 * @Description UdpClientDemo1
 * @Author vchicken
 * @Date 2022/8/22 21:15
 */
public class UdpClientDemo1 {

    public static void main(String[] args) throws Exception{

        //1.å»ºç«‹ä¸€ä¸ªSocket
        DatagramSocket socket = new DatagramSocket();
        //2.å»ºä¸ªåŒ…
        String msg = "ä½ å¥½å•Šï¼ŒæœåŠ¡å™¨";
        //3.å‘é€ç»™è°
        InetAddress address = InetAddress.getByName("localhost");
        int port = 9090;

        DatagramPacket packet = new DatagramPacket(msg.getBytes(), 0, msg.getBytes().length, address, port);
        //4.å‘é€åŒ…
        socket.send(packet);
    }
}
```

æœåŠ¡ç«¯ï¼š
```java
package com.vchicken.internet;

import java.net.DatagramPacket;
import java.net.DatagramSocket;

/**
 * @Description UdpServerDemo1
 * @Author vchicken
 * @Date 2022/8/22 21:16
 */
public class UdpServerDemo1 {

    public static void main(String[] args) throws Exception {
        //å¼€æ”¾ç«¯å£
        DatagramSocket socket = new DatagramSocket(9090);
        //æ¥æ”¶æ•°æ®åŒ…
        byte[] buff = new byte[1024];
        DatagramPacket packet = new DatagramPacket(buff, 0, buff.length);

        socket.receive(packet);//é˜»å¡æ¥æ”¶

        System.out.println(packet.getAddress());
        System.out.println(new String(packet.getData(), 0, packet.getData().length));

        socket.close();
    }
}

```

### 8.UDPå®ç°èŠå¤©
å‘é€æ–¹ï¼š
```java
package com.vchicken.internet;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.DatagramPacket;
import java.net.DatagramSocket;
import java.net.InetSocketAddress;

/**
 * @Description UdpSenderDemo01
 * @Author vchicken
 * @Date 2022/8/22 21:20
 */
public class UdpSenderDemo01 {

    public static void main(String[] args) throws Exception {
        //è·å–è¿æ¥
        DatagramSocket socket = new DatagramSocket(8080);
        while (true) {
            //å‡†å¤‡æ•°æ®
            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
            String data = reader.readLine();
            byte[] datas = data.getBytes();
            DatagramPacket packet = new DatagramPacket
                    (datas, 0, datas.length, new InetSocketAddress("localhost", 6666));
            //å‘é€æ•°æ®
            socket.send(packet);
            if (data.equals("bye")) {
                break;
            }
        }

        socket.close();
    }
}

```

æ¥æ”¶æ–¹ï¼š

```java
package com.vchicken.internet;

import java.net.DatagramPacket;
import java.net.DatagramSocket;

/**
 * @Description UdpReceiveDemo01
 * @Author vchicken
 * @Date 2022/8/22 21:21
 */
public class UdpReceiveDemo01 {

    public static void main(String[] args) throws Exception {
        DatagramSocket socket = new DatagramSocket(6666);
        while (true) {
            //å‡†å¤‡æ¥æ”¶åŒ…è£¹
            byte[] container = new byte[1024];
            DatagramPacket packet = new DatagramPacket(container, 0, container.length);
            socket.receive(packet);//é˜»å¡å¼æ¥æ”¶åŒ…è£¹


            byte[] data = packet.getData();
            String receiveData = new String(data, 0, data.length);

            System.out.println(receiveData);

            //æ–­å¼€è¿æ¥ bye
            if (receiveData.equals("bye")){
                break;
            }
        }
        socket.close();
    }
}

```

