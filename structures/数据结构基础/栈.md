# ğŸ˜ æ•°æ®ç»“æ„åŸºç¡€ - æ ˆ

---

## åŸºç¡€æ¦‚å¿µ

### 1.å®šä¹‰

`æ ˆï¼ˆStackï¼‰`ï¼šæ˜¯åªå…è®¸åœ¨**ä¸€ç«¯è¿›è¡Œæ’å…¥æˆ–åˆ é™¤**çš„çº¿æ€§è¡¨ã€‚é¦–å…ˆæ ˆæ˜¯ä¸€ç§**çº¿æ€§è¡¨**ï¼Œä½†é™å®šè¿™ç§çº¿æ€§è¡¨åªèƒ½åœ¨æŸä¸€ç«¯è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œã€‚

![æ ˆ](https://vue-admin-imgages.oss-cn-hangzhou.aliyuncs.com/2022-09-23/601cfae9-0331-483b-8206-b64550e64099_æ ˆçš„ç»“æ„.png)

**æ–‡å­—è§£æï¼š**

- **æ ˆé¡¶**ï¼ˆTopï¼‰ï¼šçº¿æ€§è¡¨å…è®¸è¿›è¡Œæ’å…¥åˆ é™¤çš„é‚£ä¸€ç«¯ã€‚
- **æ ˆåº•**ï¼ˆBottomï¼‰ï¼šå›ºå®šçš„ï¼Œä¸å…è®¸è¿›è¡Œæ’å…¥å’Œåˆ é™¤çš„å¦ä¸€ç«¯ã€‚
- **ç©ºæ ˆ**ï¼šä¸å«ä»»ä½•å…ƒç´ çš„ç©ºè¡¨ã€‚



### 2.ç‰¹ç‚¹

1. æ ˆä¸­æ•°æ®æ˜¯æŒ‰ç…§"åè¿›å…ˆå‡ºï¼ˆLIFO, Last In First Outï¼‰"æ–¹å¼è¿›å‡ºæ ˆçš„ã€‚
2. å‘æ ˆä¸­æ·»åŠ /åˆ é™¤æ•°æ®æ—¶ï¼Œåªèƒ½ä»æ ˆé¡¶è¿›è¡Œæ“ä½œã€‚



## å¸¸è§æ“ä½œ

### å¸¸ç”¨æ“ä½œ

push -- å‘æ ˆä¸­æ·»åŠ å…ƒç´ ã€‚
peek -- è¿”å›æ ˆé¡¶å…ƒç´ ã€‚
pop -- è¿”å›å¹¶åˆ é™¤æ ˆé¡¶å…ƒç´ çš„æ“ä½œã€‚

### å›¾è§£

#### æ ˆçš„ç¤ºæ„å›¾

![img](https://vue-admin-imgages.oss-cn-hangzhou.aliyuncs.com/2022-09-23/2db3832e-e946-411d-833b-d3334f48f142_æ ˆ.jpg)



æ ˆä¸­çš„æ•°æ®ä¾æ¬¡æ˜¯ 30 --> 20 --> 10

 

#### å‡ºæ ˆ

![img](https://vue-admin-imgages.oss-cn-hangzhou.aliyuncs.com/2022-09-23/f904605b-a7e5-40ec-8704-366dfa37d56b_å‡ºæ ˆ.jpg)

**å‡ºæ ˆå‰**ï¼šæ ˆé¡¶å…ƒç´ æ˜¯30ã€‚æ­¤æ—¶ï¼Œæ ˆä¸­çš„å…ƒç´ ä¾æ¬¡æ˜¯ 30 --> 20 --> 10
**å‡ºæ ˆå**ï¼š30å‡ºæ ˆä¹‹åï¼Œæ ˆé¡¶å…ƒç´ å˜æˆ20ã€‚æ­¤æ—¶ï¼Œæ ˆä¸­çš„å…ƒç´ ä¾æ¬¡æ˜¯ 20 --> 10

 

#### å…¥æ ˆ

![img](https://vue-admin-imgages.oss-cn-hangzhou.aliyuncs.com/2022-09-23/e4f6c453-9a84-4f0a-88a7-fb702a31bee1_å…¥æ ˆ.jpg)

**å…¥æ ˆå‰**ï¼šæ ˆé¡¶å…ƒç´ æ˜¯20ã€‚æ­¤æ—¶ï¼Œæ ˆä¸­çš„å…ƒç´ ä¾æ¬¡æ˜¯ 20 --> 10
**å…¥æ ˆå**ï¼š40å…¥æ ˆä¹‹åï¼Œæ ˆé¡¶å…ƒç´ å˜æˆ40ã€‚æ­¤æ—¶ï¼Œæ ˆä¸­çš„å…ƒç´ ä¾æ¬¡æ˜¯ 40 --> 20 --> 10



## Javaå®ç°æ ˆ

### 1.å®ç°æ ˆçš„å‡ ç§æ–¹å¼

- åŸºäºæ•°ç»„å®ç°
- åŸºäºé“¾è¡¨å®ç°
- åŸºäºé˜Ÿåˆ—å®ç°

### 2.å®ç°ä»£ç 

**å…¬å…±æ ˆæ¥å£**

```java
/**
 * @Description MyStack
 * @Author vchicken
 * @Date 2022/9/23 9:55
 */
public interface MyStack<E> {

    /**
     * ç½®ç©º
     */
    public void clear();

    /**
     * åˆ¤ç©º
     *
     * @return
     */
    public boolean isEmpty();

    /**
     * è¿”å›æ ˆä¸­å…ƒç´ ä¸ªæ•°
     *
     * @return
     */
    public int size();


    /**
     * è¯»å–æ ˆé¡¶å…ƒç´ 
     *
     * @return
     */
    public E peek();

    /**
     * å…¥æ ˆ
     *
     * @param e
     * @throws Exception
     */
    public void push(E e) throws Exception;

    /**
     * è¿”å›æ ˆé¡¶å…ƒç´ å¹¶å‡ºæ ˆ
     *
     * @return
     */
    public E pop();
}
```

#### 1.åŸºäºæ•°ç»„å®ç°æ ˆ

```java
/**
 * @Description GeneralListStack
 * @Author vchicken
 * @Date 2022/9/23 9:49
 */
public class GeneralListStack<E> implements MyStack<E> {

    /**
     * å®ç°æ ˆçš„æ•°ç»„
     */
    public Object[] stack;

    /**
     * æ ˆçš„å¤§å°
     */
    public int size;

    public GeneralListStack() {
        // é»˜è®¤å¤§å°ä¸º10
        stack = new Object[10];
    }

    public GeneralListStack(int maxSize) {
        stack = new Object[maxSize];
    }

    @Override
    public void clear() {
        // å¤§å°ç½®ä¸º0
        size = 0;
    }

    @Override
    public boolean isEmpty() {
        return size == 0;
    }

    @Override
    public int size() {
        return size;
    }

    @Override
    public E peek() {
        E e = null;
        if (size > 0) {
            e = (E) stack[size - 1];
        }
        return e;
    }

    @Override
    public void push(E e) throws Exception {
        if (size >= stack.length) {
            throw new RuntimeException("stackOverFlowException");
        } else {
            stack[size++] = e;
        }
    }

    @Override
    public E pop() {
        E e = null;
        if (isEmpty()) {
            return null;
        }
        return (E) stack[size--];
    }
}
```

**æµ‹è¯•ï¼š**

```java
public static void main(String[] args) throws Exception {
        GeneralListStack getGeneralListStack = new GeneralListStack<>(5);
        getGeneralListStack.push("Bill");
        getGeneralListStack.push("Jack");
        getGeneralListStack.push("Nick");
        getGeneralListStack.push("Tom");

        System.out.println("==========================");
        System.out.println("æ ˆé¡¶å…ƒç´ ä¸ºï¼š " + getGeneralListStack.peek());

        System.out.println("==========================");
        System.out.println("pop()å‡ºæ ˆå…ƒç´ ä¸ºï¼š " + getGeneralListStack.pop() + " å‡ºæ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼š" + getGeneralListStack.peek());

        System.out.println("==========================");
        System.out.println("å…¥æ ˆæµ‹è¯•ï¼Œè¿”å›æ ˆé¡¶å…ƒç´ ");
        getGeneralListStack.push("Sam");
        System.out.println("å…¥æ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼š " + getGeneralListStack.peek());

        System.out.println("==========================");
        System.out.println("size()æµ‹è¯•");
        System.out.println("å½“å‰æ ˆé•¿åº¦ä¸ºï¼š " + getGeneralListStack.size());

        System.out.println("==========================");
        System.out.println("æ ˆæ»¡æµ‹è¯•");
        getGeneralListStack.push("John");
        System.out.println("å½“å‰æ ˆé¡¶å…ƒç´ ä¸ºï¼š " + getGeneralListStack.peek() + " æ ˆçš„é•¿åº¦ä¸ºï¼š " + getGeneralListStack.size());
        System.out.println("å°è¯•å¾€å·²æ»¡æ ˆä¸­æ”¾å…¥å…ƒç´ ã€‚");
        try {
            getGeneralListStack.push("Susan");
        }
        catch (Exception e){
            System.out.println(e.toString());
        }

        System.out.println("==========================");
        System.out.println("åˆ¤ç©ºæµ‹è¯•");
        if(!getGeneralListStack.isEmpty()) {
            System.out.println("æ ˆä¸ä¸ºç©ºã€‚æ ˆé¡¶å…ƒç´ ä¸ºï¼š" + getGeneralListStack.peek());
        }
        System.out.println("ç½®ç©ºæµ‹è¯•.");
        getGeneralListStack.clear();
        if(getGeneralListStack.isEmpty()) {
            System.out.println("æ ˆä¸ºç©ºã€‚æ ˆé¡¶å…ƒç´ ä¸ºï¼š" + getGeneralListStack.peek());
            System.out.println("å…¥æ ˆå…ƒç´ vchicken" );
            getGeneralListStack.push("vchicken");
            System.out.println("æ ˆé¡¶å…ƒç´ ä¸ºï¼š" + getGeneralListStack.peek());
        }
    }

// æ‰§è¡Œç»“æœï¼š
==========================
æ ˆé¡¶å…ƒç´ ä¸ºï¼š Tom
==========================
pop()å‡ºæ ˆå…ƒç´ ä¸ºï¼š null å‡ºæ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼šNick
==========================
å…¥æ ˆæµ‹è¯•ï¼Œè¿”å›æ ˆé¡¶å…ƒç´ 
å…¥æ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼š Sam
==========================
size()æµ‹è¯•
å½“å‰æ ˆé•¿åº¦ä¸ºï¼š 4
==========================
æ ˆæ»¡æµ‹è¯•
å½“å‰æ ˆé¡¶å…ƒç´ ä¸ºï¼š John æ ˆçš„é•¿åº¦ä¸ºï¼š 5
å°è¯•å¾€å·²æ»¡æ ˆä¸­æ”¾å…¥å…ƒç´ ã€‚
java.lang.RuntimeException: stackOverFlowException
==========================
åˆ¤ç©ºæµ‹è¯•
æ ˆä¸ä¸ºç©ºã€‚æ ˆé¡¶å…ƒç´ ä¸ºï¼šJohn
ç½®ç©ºæµ‹è¯•.
æ ˆä¸ºç©ºã€‚æ ˆé¡¶å…ƒç´ ä¸ºï¼šnull
å…¥æ ˆå…ƒç´ vchicken
æ ˆé¡¶å…ƒç´ ä¸ºï¼švchicken
```

#### 2.åŸºäºé“¾è¡¨å®ç°æ ˆ

```java
/**
 * @Description GeneralLinkStack
 * @Author vchicken
 * @Date 2022/9/23 9:49
 */
public class GeneralLinkStack<E> implements MyStack<E> {

    /**
     * å®šä¹‰é“¾è¡¨
     *
     * @param <E>
     */
    class Node<E> {
        private E e;
        private Node next;
    }

    private Node<E> head;

    private int size = 0;

    @Override
    public void clear() {
        head = null;
    }

    @Override
    public boolean isEmpty() {
        return head == null;
    }

    @Override
    public int size() {
        return size;
    }

    @Override
    public E peek() {
        E e = head.e;
        return e;
    }

    @Override
    public void push(E e) throws Exception {
        if (e == null) {
            throw new NullPointerException("element can not be null");
        }
        if (head == null) {
            head = new Node<E>();
            head.e = e;
            head.next = null;
        } else {
            Node<E> temp = head;
            head = new Node<>();
            head.e = e;
            head.next = temp;
        }
        size++;
    }

    @Override
    public E pop() {
        E e = head.e;
        head = head.next;
        size--;
        return e;
    }
}
```

**æµ‹è¯•ï¼š**

```java
public static void main(String[] args) throws Exception {
        GeneralLinkStack getGeneralListStack = new GeneralLinkStack();
        getGeneralListStack.push("Bill");
        getGeneralListStack.push("Jack");
        getGeneralListStack.push("Nick");
        getGeneralListStack.push("Tom");

        System.out.println("==========================");
        System.out.println("æ ˆé¡¶å…ƒç´ ä¸ºï¼š " + getGeneralListStack.peek());

        System.out.println("==========================");
        System.out.println("pop()å‡ºæ ˆå…ƒç´ ä¸ºï¼š " + getGeneralListStack.pop() + " å‡ºæ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼š" + getGeneralListStack.peek());

        System.out.println("==========================");
        System.out.println("å…¥æ ˆæµ‹è¯•ï¼Œè¿”å›æ ˆé¡¶å…ƒç´ ");
        getGeneralListStack.push("Sam");
        System.out.println("å…¥æ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼š " + getGeneralListStack.peek());

        System.out.println("==========================");
        System.out.println("size()æµ‹è¯•");
        System.out.println("å½“å‰æ ˆé•¿åº¦ä¸ºï¼š " + getGeneralListStack.size());

        System.out.println("==========================");
        System.out.println("æ ˆæ»¡æµ‹è¯•");
        getGeneralListStack.push("John");
        System.out.println("å½“å‰æ ˆé¡¶å…ƒç´ ä¸ºï¼š " + getGeneralListStack.peek() + " æ ˆçš„é•¿åº¦ä¸ºï¼š " + getGeneralListStack.size());
        System.out.println("å°è¯•å¾€å·²æ»¡æ ˆä¸­æ”¾å…¥å…ƒç´ ã€‚");
        try {
            getGeneralListStack.push("Susan");
        } catch (Exception e) {
            System.out.println(e.toString());
        }

        System.out.println("==========================");
        System.out.println("åˆ¤ç©ºæµ‹è¯•");
        if (!getGeneralListStack.isEmpty()) {
            System.out.println("æ ˆä¸ä¸ºç©ºã€‚æ ˆé¡¶å…ƒç´ ä¸ºï¼š" + getGeneralListStack.peek());
        }
        System.out.println("ç½®ç©ºæµ‹è¯•.");
        getGeneralListStack.clear();
        if (getGeneralListStack.isEmpty()) {
            System.out.println("æ ˆä¸ºç©º");
        }
    }

// æ‰§è¡Œç»“æœ
==========================
æ ˆé¡¶å…ƒç´ ä¸ºï¼š Tom
==========================
pop()å‡ºæ ˆå…ƒç´ ä¸ºï¼š Tom å‡ºæ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼šNick
==========================
å…¥æ ˆæµ‹è¯•ï¼Œè¿”å›æ ˆé¡¶å…ƒç´ 
å…¥æ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼š Sam
==========================
size()æµ‹è¯•
å½“å‰æ ˆé•¿åº¦ä¸ºï¼š 4
==========================
æ ˆæ»¡æµ‹è¯•
å½“å‰æ ˆé¡¶å…ƒç´ ä¸ºï¼š John æ ˆçš„é•¿åº¦ä¸ºï¼š 5
å°è¯•å¾€å·²æ»¡æ ˆä¸­æ”¾å…¥å…ƒç´ ã€‚
==========================
åˆ¤ç©ºæµ‹è¯•
æ ˆä¸ä¸ºç©ºã€‚æ ˆé¡¶å…ƒç´ ä¸ºï¼šSusan
ç½®ç©ºæµ‹è¯•.
æ ˆä¸ºç©º
```

#### 3.åŸºäºé˜Ÿåˆ—å®ç°æ ˆ

```java
/**
 * @Description GeneralQueueStack
 * @Author vchicken
 * @Date 2022/9/23 9:49
 */
public class GeneralQueueStack<E> implements MyStack<E> {

    public Queue<E> q1;
    public Queue<E> q2;

    public GeneralQueueStack() {
        q1 = new LinkedList<>();
        q2 = new LinkedList<>();
    }

    @Override
    public void clear() {
        q1 = new LinkedList<>();
        q2 = new LinkedList<>();
    }

    @Override
    public int size() {
        return q2.size();
    }

    @Override
    public void push(E x) {
        //å…¥æ ˆï¼šå…¥ä¸ä¸ºç©ºçš„æ ˆ
        if (!q1.isEmpty()) {
            q1.add(x);
        } else if (q2.isEmpty()) {
            q2.add(x);
        } else {
            q1.add(x);
        }
    }

    @Override
    public E pop() {
        //éƒ½ä¸ºç©º
        if (isEmpty()) {
            return null;
        }
        //å‡ºæ ˆï¼šå‡ºä¸ä¸ºç©ºçš„æ ˆ
        if (!q1.isEmpty()) {
            int size = q1.size() - 1;
            for (int i = 0; i < size; i++) {
                q2.offer(q1.poll());
            }
            return q1.poll();
        }
        if (!q2.isEmpty()) {
            int size = q2.size() - 1;
            for (int i = 0; i < size; i++) {
                q1.offer(q2.poll());
            }
            return q2.poll();
        }
        return null;
    }

    @Override
    public E peek() {
        if (isEmpty()) {
            return null;
        }
        if (!q1.isEmpty()) {
            int size = q1.size() - 1;
            for (int i = 0; i < size; i++) {
                q2.offer(q1.poll());
            }
            E val = q1.peek();
            q2.offer(q1.poll());
            return val;
        }
        if (!q2.isEmpty()) {
            int size = q2.size() - 1;
            for (int i = 0; i < size; i++) {
                q1.offer(q2.poll());
            }
            E val = q2.peek();
            q1.offer(q2.poll());
            return val;
        }
        return null;
    }

    @Override
    public boolean isEmpty() {
        return q1.isEmpty() && q2.isEmpty();
    }
}
```

**æµ‹è¯•ï¼š**

```java
public static void main(String[] args) throws Exception {
        GeneralQueueStack getGeneralListStack = new GeneralQueueStack();
        getGeneralListStack.push("Bill");
        getGeneralListStack.push("Jack");
        getGeneralListStack.push("Nick");
        getGeneralListStack.push("Tom");

        System.out.println("==========================");
        System.out.println("æ ˆé¡¶å…ƒç´ ä¸ºï¼š " + getGeneralListStack.peek());

        System.out.println("==========================");
        System.out.println("pop()å‡ºæ ˆå…ƒç´ ä¸ºï¼š " + getGeneralListStack.pop() + " å‡ºæ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼š" + getGeneralListStack.peek());

        System.out.println("==========================");
        System.out.println("å…¥æ ˆæµ‹è¯•ï¼Œè¿”å›æ ˆé¡¶å…ƒç´ ");
        getGeneralListStack.push("Sam");
        System.out.println("å…¥æ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼š " + getGeneralListStack.peek());

        System.out.println("==========================");
        System.out.println("size()æµ‹è¯•");
        System.out.println("å½“å‰æ ˆé•¿åº¦ä¸ºï¼š " + getGeneralListStack.size());

        System.out.println("==========================");
        System.out.println("æ ˆæ»¡æµ‹è¯•");
        getGeneralListStack.push("John");
        System.out.println("å½“å‰æ ˆé¡¶å…ƒç´ ä¸ºï¼š " + getGeneralListStack.peek() + " æ ˆçš„é•¿åº¦ä¸ºï¼š " + getGeneralListStack.size());
        System.out.println("å°è¯•å¾€å·²æ»¡æ ˆä¸­æ”¾å…¥å…ƒç´ ã€‚");
        try {
            getGeneralListStack.push("Susan");
        } catch (Exception e) {
            System.out.println(e.toString());
        }

        System.out.println("==========================");
        System.out.println("åˆ¤ç©ºæµ‹è¯•");
        if (!getGeneralListStack.isEmpty()) {
            System.out.println("æ ˆä¸ä¸ºç©ºã€‚æ ˆé¡¶å…ƒç´ ä¸ºï¼š" + getGeneralListStack.peek());
        }
        System.out.println("ç½®ç©ºæµ‹è¯•.");
        getGeneralListStack.clear();
        if (getGeneralListStack.isEmpty()) {
            System.out.println("æ ˆä¸ºç©º");
        }
    }

// æ‰§è¡Œç»“æœ
==========================
æ ˆé¡¶å…ƒç´ ä¸ºï¼š Tom
==========================
pop()å‡ºæ ˆå…ƒç´ ä¸ºï¼š Tom å‡ºæ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼šNick
==========================
å…¥æ ˆæµ‹è¯•ï¼Œè¿”å›æ ˆé¡¶å…ƒç´ 
å…¥æ ˆåæ ˆé¡¶å…ƒç´ ä¸ºï¼š Sam
==========================
size()æµ‹è¯•
å½“å‰æ ˆé•¿åº¦ä¸ºï¼š 4
==========================
æ ˆæ»¡æµ‹è¯•
å½“å‰æ ˆé¡¶å…ƒç´ ä¸ºï¼š John æ ˆçš„é•¿åº¦ä¸ºï¼š 5
å°è¯•å¾€å·²æ»¡æ ˆä¸­æ”¾å…¥å…ƒç´ ã€‚
==========================
åˆ¤ç©ºæµ‹è¯•
æ ˆä¸ä¸ºç©ºã€‚æ ˆé¡¶å…ƒç´ ä¸ºï¼šSusan
ç½®ç©ºæµ‹è¯•.
æ ˆä¸ºç©º
```



[!TIP]

æƒ³è¦æ·±å…¥äº†è§£JDKæ˜¯å¦‚ä½•å®ç°æ ˆçš„ï¼Œå¯ä»¥æŸ¥çœ‹[Stack & Queue æºç è§£æ](java/é›†åˆ/Stack&Queue)



## å…³äºæ ˆçš„ä¸‰ç§è¡¨è¾¾å¼

### æ¦‚å¿µ

#### 1.å‰ç¼€è¡¨è¾¾å¼

`å‰ç¼€è¡¨è¾¾å¼`æ˜¯ä¸€ç§æ²¡æœ‰æ‹¬å·çš„ç®—æœ¯è¡¨è¾¾å¼ï¼Œä¸ä¸­ç¼€è¡¨è¾¾å¼ä¸åŒçš„æ˜¯ï¼Œ**æ‰€æœ‰è¿ç®—ç¬¦åœ¨æ“ä½œæ•°å‰é¢**ã€‚ä¸ºçºªå¿µå…¶å‘æ˜è€…æ³¢å…°æ•°å­¦å®¶Jan Lukasiewiczï¼Œå‰ç¼€è¡¨è¾¾å¼ä¹Ÿç§°ä¸ºâ€œ[**æ³¢å…°å¼**](https://baike.baidu.com/item/æ³¢å…°å¼/3716632)â€ã€‚ä¾‹å¦‚ï¼Œ- 1 + 2 3ï¼Œå®ƒç­‰ä»·äº1-(2+3)ã€‚

#### 2.åç¼€è¡¨è¾¾å¼

`é€†æ³¢å…°å¼`ï¼ˆReverse Polish notationï¼ŒRPNï¼Œæˆ–é€†æ³¢å…°è®°æ³•ï¼‰ï¼Œä¹Ÿå«`åç¼€è¡¨è¾¾å¼`ï¼ˆ**å°†è¿ç®—ç¬¦å†™åœ¨æ“ä½œæ•°ä¹‹å**ï¼‰

#### 3.ä¸­ç¼€è¡¨è¾¾å¼

`ä¸­ç¼€è¡¨è¾¾å¼`æ˜¯ä¸€ä¸ªé€šç”¨çš„ç®—æœ¯æˆ–é€»è¾‘å…¬å¼è¡¨ç¤ºæ–¹æ³•ã€‚ï¼ˆç”Ÿæ´»ä¸­å¸¸è§çš„è¡¨è¾¾å¼)

### è®¡ç®—è¿‡ç¨‹

#### å‰ç¼€è¡¨è¾¾å¼çš„è®¡ç®—æœºæ±‚å€¼è¿‡ç¨‹

1. è®¡ç®—æœºä»å³è‡³å·¦è¿›è¡Œæ‰«æ

2. é‡åˆ°æ•°å­—ï¼Œå°†æ•°å­—å‹å…¥æ•°æ ˆï¼›é‡åˆ°ç¬¦å·ï¼Œåˆ™å¼¹å‡ºæ•°æ ˆä¸­çš„æ ˆé¡¶å’Œæ¬¡é¡¶çš„ä¸¤ä¸ªæ•°å­—ï¼ˆæ ˆé¡¶ï¼ˆè¿ç®—ç¬¦ï¼‰æ¬¡é¡¶ï¼‰å’Œç¬¦å·è¿›è¡Œè¿ç®—ï¼Œå¹¶å°†å¾—åˆ°çš„ç»“æœå‹å…¥æ ˆä¸­

3. ä¾æ¬¡é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´è‡³æ“ä½œè¿›è¡Œåˆ°è¡¨è¾¾å¼æœ€å·¦ç«¯ã€‚æœ€åè¿ç®—å¾—åˆ°çš„ç»“æœå³ä¸ºæœ€åçš„ç»“æœ

> ä¾‹å¦‚ï¼š ï¼ˆ1+2ï¼‰*3-4çš„å‰ç¼€è¡¨è¾¾å¼ä¸º  - * + 1 2 3 4
>
> 1.ä»å³è‡³å·¦è¿›è¡Œæ‰«æï¼Œå°†4 3 2 1ä¾æ¬¡å‹å…¥æ ˆ
>
> 2.ç»§ç»­å‘å·¦æ‰«æï¼Œé‡åˆ° +ï¼Œå¼¹å‡ºæ ˆé¡¶å…ƒç´ å’Œæ¬¡é¡¶å…ƒç´  1 å’Œ 2ï¼Œ1+2 = 3ï¼›3 å‹å…¥æ ˆ
>
> 3.å‘å·¦æ‰«æï¼Œé‡åˆ° * ï¼Œå¼¹å‡º 3 å’Œ 3 ï¼Œè¿ç®—å¾—åˆ° 3*3=9ï¼›9å‹å…¥æ ˆ
>
> 4.å‘å·¦æ‰«æï¼Œé‡åˆ° - ï¼Œå¼¹å‡º 9 å’Œ 4ï¼Œè¿ç®—å¾—åˆ° 9-4=5ï¼›5ä¸ºæœ€åç»“æœ



#### åç¼€è¡¨è¾¾å¼çš„è®¡ç®—æœºæ±‚å€¼è¿‡ç¨‹

1. è®¡ç®—æœºä»å·¦è‡³å³è¿›è¡Œæ‰«æ

2. é‡åˆ°æ•°å­—ï¼Œå°†æ•°å­—å‹å…¥æ•°æ ˆï¼›é‡åˆ°ç¬¦å·ï¼Œåˆ™å¼¹å‡ºæ•°æ ˆä¸­çš„æ ˆé¡¶å’Œæ¬¡é¡¶çš„ä¸¤ä¸ªæ•°å­—ï¼ˆé¡ºåºä¸ºæ¬¡é¡¶  ï¼ˆè¿ç®—ç¬¦ï¼‰æ ˆé¡¶ï¼‰å’Œç¬¦å·è¿›è¡Œè¿ç®—ï¼Œå¹¶å°†å¾—åˆ°çš„ç»“æœå‹å…¥æ ˆä¸­

3. ä¾æ¬¡é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´è‡³æ“ä½œè¿›è¡Œåˆ°è¡¨è¾¾å¼æœ€å³ç«¯ã€‚æœ€åè¿ç®—å¾—åˆ°çš„ç»“æœå³ä¸ºæœ€åçš„ç»“æœ

> ä¾‹å¦‚: (3+4)*5 -6 çš„åç¼€è¡¨è¾¾å¼ä¸º 3 4 + 5 * 6 -
>
> 1.ä»å·¦è‡³å³æ‰«æï¼Œ3 å’Œ 4 å‹å…¥æ•°æ ˆï¼›
>
> 2.ç»§ç»­æ‰«æï¼Œé‡åˆ° + ï¼Œå¼¹å‡ºæ ˆé¡¶å’Œæ¬¡é¡¶çš„å…ƒç´ ï¼Œå¾— 3+4 = 7ï¼Œå‹å…¥æ ˆ
>
> 3.ä»å·¦è‡³å³æ‰«æï¼Œé‡åˆ° 5 ï¼Œå‹å…¥æ•°æ ˆï¼Œé‡åˆ° * ï¼Œå¾—7*5 = 35ï¼Œå‹å…¥æ ˆ
>
> 4.ä»å·¦è‡³å³æ‰«æï¼Œé‡åˆ° 6ï¼Œå‹å…¥æ ˆï¼Œé‡åˆ° -ï¼Œå¾— 35 -6 =29ï¼Œå³ä¸ºæœ€åç»“æœ



### é€†æ³¢å…°è®¡ç®—å™¨

```java
/**
 * @Description PolandNotation
 * @Author vchicken
 * @Date 2022/9/23 11:46
 */
public class PolandNotation {
    public static void main(String[] args) {
        //ä¸­ç¼€è¡¨è¾¾å¼"1+((2+3)Ã—4)-5"
        String expresstion = "1+((20+3)*4)-5";
        List<String> infixExpresstion = toInfixExpresstionList(expresstion);
        System.out.println("ä¸­ç¼€è¡¨è¾¾å¼å­—ç¬¦ä¸²:" + expresstion);
        System.out.println("ä¸­ç¼€è¡¨è¾¾å¼:" + infixExpresstion);
        List<String> suffixExpresstion = parseSuffixExpresstion(infixExpresstion);
        System.out.println("åç¼€è¡¨è¾¾å¼:" + suffixExpresstion);
        int res = calculate(suffixExpresstion);
        System.out.println("è®¡ç®—ç»“æœ = " + res);
         // æ‰§è¡Œç»“æœ
         ä¸­ç¼€è¡¨è¾¾å¼å­—ç¬¦ä¸²:1+((20+3)*4)-5
		ä¸­ç¼€è¡¨è¾¾å¼:[1, +, (, (, 20, +, 3, ), *, 4, ), -, 5]
		æ²¡æœ‰åŒ¹é…åˆ°è¯¥å­—ç¬¦
		æ²¡æœ‰åŒ¹é…åˆ°è¯¥å­—ç¬¦
		åç¼€è¡¨è¾¾å¼:[1, 20, 3, +, 4, *, +, 5, -]
		è®¡ç®—ç»“æœ = 88
    }

    /**
     * å°†åç¼€è¡¨è¾¾å¼è½¬æ¢ä¸ºArrayList
     * @param suffixExpresstion åç¼€è¡¨è¾¾å¼
     * @return
     */
    public static List<String> getList(String suffixExpresstion){
        String[] split = suffixExpresstion.split(" ");
        List<String> list = new ArrayList<String>();
        for(String ele : split){
            list.add(ele);
        }
        return list;
    }

    /**
     * å°†ä¸­ç¼€è¡¨è¾¾å¼å­—ç¬¦ä¸²è½¬æˆå¯¹åº”çš„List
     * @param s è¾“å…¥å­—ç¬¦ä¸²
     * @return
     */
    public static List<String> toInfixExpresstionList(String s){
        List<String> ls = new ArrayList<>();
        //ç´¢å¼•ï¼Œç”¨äºéå†ä¸­ç¼€è¡¨è¾¾å¼å­—ç¬¦ä¸²
        int i = 0;
        //ç”¨äºå¤šä½æ•°å­—çš„æ‹¼æ¥
        String str;
        //æ¯éå†åˆ°ä¸€ä¸ªå­—ç¬¦ï¼Œå°±æ”¾å…¥cä¸­
        char c;
        do{
            //å¦‚æœcæ˜¯ä¸€ä¸ªç¬¦å·ï¼Œç›´æ¥æ‹¼æ¥
            if ((c = s.charAt(i)) < 48 || (c = s.charAt(i)) > 57){
                ls.add("" + c);
                i++;
            }else{
                //æ‰«æåˆ°çš„æ˜¯ä¸€ä¸ªæ•°å­—
                str = "";
                //è€ƒè™‘å¤šä½æ•°
                while(i < s.length() && (c = s.charAt(i)) >= 48 && (c = s.charAt(i)) <= 57){
                    str += s.charAt(i);
                    i++;
                }
                ls.add(str);
            }
        }while(i < s.length());

        return ls;
    }

    /**
     * ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼
     * @param ls    ä¸­ç¼€è¡¨è¾¾å¼
     * @return
     */
    public static List<String> parseSuffixExpresstion(List<String> ls){
        //å®šä¹‰ä¸¤ä¸ªæ ˆ
        Stack<String> s1 = new Stack<>();
        //å› ä¸ºæ•´ä¸ªè¿‡ç¨‹ä¸­s2æ²¡æœ‰å‘ç”Ÿè¿‡å¼¹æ ˆï¼Œæ‰€ä»¥å°†s2æ ˆæ¢æˆä¸€ä¸ªList
        //Stack<String> s2 = new Stack<>();
        List<String> s2 = new ArrayList<>();
        for(String item : ls){
            if(item.matches("\\d+")){//æ•°å­—
                s2.add(item);
            }else if(item.equals("(")){//å¦‚æœæ˜¯å·¦æ‹¬å·â€œ(â€ï¼Œåˆ™ç›´æ¥å‹å…¥s1
                s1.push(item);
            }else if(item.equals(")")){//å¦‚æœæ˜¯å³æ‹¬å·â€œ)â€ï¼Œåˆ™ä¾æ¬¡å¼¹å‡ºs1æ ˆé¡¶çš„è¿ç®—ç¬¦ï¼Œå¹¶å‹å…¥s2ï¼Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·ä¸ºæ­¢ï¼Œæ­¤æ—¶å°†è¿™ä¸€å¯¹æ‹¬å·ä¸¢å¼ƒ
                while(!s1.peek().equals("(")){
                    s2.add(s1.pop());
                }
                s1.pop();// å°†â€œ(â€å¼¹æ ˆ
            }else{//é‡åˆ°è¿ç®—ç¬¦æ—¶ï¼Œæ¯”è¾ƒå…¶ä¸s1æ ˆé¡¶è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼š
                while(s1.size() != 0 && Operation.getValue(item) <= Operation.getValue(s1.peek())){
                    s2.add(s1.pop());
                }
                s1.push(item);
            }
        }

        //å°†s1ä¸­å‰©ä½™çš„è¿ç®—ç¬¦ä¾æ¬¡å¼¹å‡ºå¹¶å‹å…¥s2
        while(s1.size() !=0){
            s2.add(s1.pop());
        }
        return s2;
    }

    /**
     * å°†Listé›†åˆå…¥æ ˆï¼Œå¹¶è®¡ç®—å€¼
     * @param ls
     * @return
     */
    public static int calculate(List<String> ls){
        Stack<String> stack = new Stack<String>();
        for(String item : ls){
            if (item.matches("\\d+")){
                stack.push(item);
            }else{
                int num1 = Integer.parseInt(stack.pop());
                int num2 = Integer.parseInt(stack.pop());
                int res = 0;
                switch(item){
                    case "+" :
                        res = num1 + num2;
                        break;
                    case "-" :
                        res = num2 - num1;
                        break;
                    case "*" :
                        res = num1 * num2;
                        break;
                    case "/" :
                        res = num2 / num1;
                        break;
                    default :
                        throw new RuntimeException(item + "ç¬¦å·ä¸åŒ¹é…");
                }
                stack.push("" + res);
            }
        }
        return Integer.parseInt(stack.pop());
    }
}

class Operation{
    private static int ADD = 1;
    private static int SUB = 1;
    private static int MUL = 2;
    private static int DIV = 2;
    public static int getValue(String ch){
        int res = 0;
        switch(ch){
            case "+":
                res = ADD;
                break;
            case "-":
                res = SUB;
                break;
            case "*":
                res = MUL;
                break;
            case "/":
                res = DIV;
                break;
            default:
                System.out.println("æ²¡æœ‰åŒ¹é…åˆ°è¯¥å­—ç¬¦");
                break;
        }
        return res;
    }
}
```





## å‚è€ƒæ–‡ç« 

- [Java å®ç°æ ˆçš„ä¸‰ç§æ–¹å¼](https://blog.csdn.net/apple_4872330/article/details/115901993)
- [Javaå®ç°æ ˆ](https://blog.csdn.net/qq_44717657/article/details/123489019)
- [æ ˆçš„ä¸‰ç§è¡¨è¾¾å¼ï¼ˆå‰ç¼€ã€ä¸­ç¼€ã€åç¼€ï¼‰](https://blog.csdn.net/weixin_52717049/article/details/119931970)
- [é€†æ³¢å…°è®¡ç®—å™¨](https://blog.csdn.net/qq_45796208/article/details/110005085)